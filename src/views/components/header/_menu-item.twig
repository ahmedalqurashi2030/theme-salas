{# MOBILE #}
{# MOBILE #}
	<li class="lg:hidden text-sm font-bold" {{ menu.attrs }}> <div class="flex items-center justify-between">
		<a
			{{ menu.link_attrs|raw }} href="{{ menu.url }}" class="flex-1 flex items-center gap-3 text-gray-700 p-2">
			{# Image or Icon #}
			{% if menu.image %}
				<img src="{{ menu.image }}" class="w-8 h-8 rounded-full object-contain border border-gray-100 bg-white p-0.5" alt="{{ menu.title }}">
			{% elseif menu.icon %}
				<i class="{{ menu.icon }} text-lg w-8 h-8 flex items-center justify-center bg-gray-50 rounded-full text-gray-400"></i>
			{% endif %}

			<span>{{ menu.title }}</span>
		</a>

		{# Arrow for submenu if exists (implicitly handled by Salla JS usually, but here just cleaner structure) #}
	</div>

	{% if menu.has_children %}
		<ul>
			<li class="text-sm font-bold p-2 bg-gray-50 mb-2 rounded-md">
				<a href="{{ menu.url }}" class="flex items-center gap-2 text-primary">
					<span>{{ trans('blocks.header.all') }}
						{{ menu.title }}</span>
				</a>
			</li>
			{% for submenu in menu.children %}
				{% include _self with {menu:submenu} %}
			{% endfor %}
		</ul>
	{% endif %}
</li>

{# DESKTOP #}
<li class="!hidden lg:!block {{ is_root_menu?'root-level lg:!inline-block':'relative' }}
		        {{ menu.products?' mega-menu': '' }}
		        {{ menu.has_children?' has-children': '' }}" {{ menu.attrs|raw }}>
	<a {{ menu.link_attrs|raw }} href="{{ menu.url }}">
		<span>{{ menu.title }}</span>
	</a>
	{% if menu.has_children %}
		<div class="sub-menu {{ menu.products?'w-full left-0 flex': 'w-56' }}">
			<ul class="{{ menu.products?'w-56 shrink-0 m-8 rtl:ml-0 ltr:mr-0': '' }}">
				{% for submenu in menu.children %}
					{% include _self with {menu:submenu, is_root_menu:false} %}
				{% endfor %}
			</ul>
			{% if menu.products %}
				<div class="grow p-8">
					<div class="grid gap-4 grid-cols-4">
						{% for product in menu.products|slice(0, 4) %}
							<salla-product-card shadow-on-hover product="{{product}}"></salla-product-card>
						{% endfor %}
					</div>
				</div>
			{% endif %}

		</div>
	{% endif %}
</li>
