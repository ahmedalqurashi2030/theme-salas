<section class="thara-categories">
	<div
		class="container">

		<!-- العنوان -->
		<h2 class="title">{{ component.category_title }}</h2>

		<!-- حاوية السكرول -->
		<div class="thara-categories__scroll">

			{% for item in component.category_item %}
				<a href="{{ item.category[0].url }}" class="thara-category">

					<div class="thara-category__circle">
						<img src="{{ item.image }}" alt="{{ item.title }}">
					</div>

					<p class="thara-category__title">{{ item.title }}</p>

				</a>
			{% endfor %}

		</div>

	</div>
</section>

<style>
	/* ==============================
	   إعدادات القسم العامة
	================================*/
	.thara-categories {
		padding: 30px 0;
		background-color: #fff; /* خلفية بيضاء للقسم */
		overflow: hidden;
	}

	.thara-categories .container {
		max-width: 1350px;
		margin: 0 auto;
		padding: 0 15px;
	}

	.thara-categories .title {
		font-weight: 800;
		font-size: 22px;
		margin-bottom: 25px;
		color: #222;
		text-align: right; /* محاذاة العنوان لليمين كما هو معتاد */
	}

	/* ==============================
	   منطقة السحب (Scroll Area)
	================================*/
	.thara-categories__scroll {
		display: flex;
		gap: 15px; /* المسافة بين الدوائر */
		overflow-x: auto;
		padding-bottom: 30px; /* مساحة لظهور الشريط السفلي */
		padding-top: 10px;
		scroll-snap-type: x mandatory;
		scroll-behavior: smooth;
		-webkit-overflow-scrolling: touch;
	}

	/* --- شريط التمرير (المصغر وفي المنتصف) --- */
	.thara-categories__scroll::-webkit-scrollbar {
		height: 4px; /* ارتفاع الشريط */
	}

	.thara-categories__scroll::-webkit-scrollbar-track {
		background: #f5f5f5;
		border-radius: 10px;
		/* الحيلة لجعله في المنتصف وصغير */
		margin-inline: 42%;
	}

	.thara-categories__scroll::-webkit-scrollbar-thumb {
		background: #333; /* لون المؤشر غامق */
		border-radius: 10px;
		cursor: grab;
	}

	/* ==============================
	   عنصر التصنيف (البطاقة)
	================================*/
	.thara-category {
		/* للجوال: عرض 36% يعني يظهر عنصرين ونصف (2.5) */
		flex: 0 0 36%;
		max-width: 36%;

		text-decoration: none;
		color: inherit;
		scroll-snap-align: start;
		display: flex;
		flex-direction: column;
		align-items: center;
		text-align: center;
		transition: transform 0.3s ease;
	}

	/* للكمبيوتر: عرض 6 عناصر بالضبط */
	@media(min-width: 1024px) {
		.thara-category {
			flex: 0 0 calc(16.666% - 13px); /* 100% تقسيم 6 ناقص المسافات */
			max-width: calc(16.666% - 13px);
		}

		/* توسيع الشريط قليلاً في الشاشات الكبيرة */
		.thara-categories__scroll::-webkit-scrollbar-track {
			margin-inline: 45%;
		}
	}

	/* ==============================
	   الدائرة (الصورة)
	================================*/
	.thara-category__circle {
		width: 100%;
		/* هذا السطر يضمن أن العنصر يبقى دائرة دائماً (الطول = العرض) */
		aspect-ratio: 1 / 1;
		border-radius: 50%;

		/* لون الخلفية الرمادي الفاتح مثل الصورة */
		background: #f7f7f7;

		overflow: hidden;
		display: flex;
		justify-content: center;
		align-items: center;
		margin-bottom: 12px;
		transition: all 0.3s ease;

		/* حدود خفيفة جداً */
		border: 1px solid #f0f0f0;
	}

	.thara-category__circle img {
		width: 100%;
		height: 100%;
		object-fit: cover; /* أو contain حسب رغبتك في ظهور المنتج كاملاً */
		transition: transform 0.5s ease;
		border-radius: 50%;
	}

	/* تأثير عند مرور الماوس */
	.thara-category:hover .thara-category__circle {
		transform: translateY(-5px);
		background: #eee;
		border-color: #ddd;
	}

	.thara-category:hover .thara-category__circle img {
		transform: scale(1.1);
	}

	/* ==============================
	   عنوان التصنيف (النص)
	================================*/
	.thara-category__title {
		margin: 0;
		font-size: 14px;
		font-weight: 700;
		color: #333;
		line-height: 1.4;
	}

	/* تصغير الخط قليلاً في الجوال */
	@media(max-width: 768px) {
		.thara-categories__scroll::-webkit-scrollbar-track {
			margin-inline: 35%;
		}
		.thara-category__title {
			font-size: 13px;
		}
	}
</style>
