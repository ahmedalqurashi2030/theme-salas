{# ============================================
   Product Categories Component
   Clean Twig file using Salla components only
   ============================================ #}

<section class="lifestyle-section" id="section-{{ section_id }}">
	<!-- Decorative Background Halos -->
	<div class="halo halo-1"></div>
	<div class="halo halo-2"></div>

	<div class="section-container">
		<!-- Section Header & Filters -->
		<div class="section-header">
			<div>
				<h2>{{ section_titile|default(trans('components.product_categories.section_title')) }}</h2>
				<p>{{ trans('components.product_categories.section_description') }}</p>
			</div>

			<!-- Category Filter Tabs -->
			{% if component.products|length > 0 %}
				<div class="category-filter">
					<button class="active filter-btn" data-target="all">{{ trans('common.all') }}</button>
					{% for tab in component.products %}
						{% if tab.category_list and tab.dropdown_list_1|length > 0 %}
							<button class="filter-btn" data-target="cat-{{ tab.category_list.id }}">
								{{ tab.categoty_title }}
							</button>
						{% endif %}
					{% endfor %}
				</div>
			{% endif %}
		</div>

		<!-- Products Area -->
		<div class="products-band">
			<div class="cards-strip-wrapper">
				<div class="cards-strip">
					{% for tab in component.products %}
						{% for product in tab.dropdown_list_1 %}
							<div class="s-products-slider-card" data-category="cat-{{ tab.category_list.id }}">
								<salla-product-card 
									product="{{ product|json_encode|e('html_attr') }}"
									shadow-on-hover
									class="{{ product.is_out_of_stock ? 'is-out-of-stock' : '' }}">
								</salla-product-card>
							</div>
						{% endfor %}
					{% endfor %}
				</div>
			</div>
			
			<!-- Scroll Progress Bar -->
			<div class="scroll-bar">
				<div class="scroll-prog"></div>
			</div>
		</div>
	</div>
</section>
