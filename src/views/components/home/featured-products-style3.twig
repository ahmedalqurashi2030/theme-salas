{#
| Variable                      | Type      | Description                                                         |
|-------------------------------|-----------|---------------------------------------------------------------------|
| items                         | array     | shared variable in all layout, index.twig, and all components views |
| items[].title                 | string    | Section title                                                       |
| items[].products              | Product[] | Products list                                                       |
| items[].featured_product      | Product   | Featured Product                                                    |
| position                      | int       | Sorting number starts from zero                                     |
#}

<section class="s-block s-block--features-products container {% if items|length > 1 %}two-cols{% endif %}">
  <div class="inner">
    {% for section in items %}
      {% set side_products = section.products|slice(0, 3) %}

      <section class="bg-transparent">
        <header class="mb-5 sm:mb-7 text-center">
          <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-3">{{ section.title }}</h2>
          <div class="flex items-center justify-center gap-3 text-primary/70" aria-hidden="true">
            <span class="block h-px w-20 sm:w-24 bg-current"></span>
            <span class="inline-block w-3.5 h-3.5 rounded-full border border-current"></span>
            <span class="block h-px w-20 sm:w-24 bg-current"></span>
          </div>
        </header>

        <div class="grid gap-4 lg:gap-6 xl:grid-cols-[minmax(210px,1fr)_minmax(250px,1.1fr)] items-stretch">
          <div class="grid gap-3 sm:gap-4 order-2 xl:order-1">
            {% for product in side_products %}
              <salla-product-card
                product="{{ product }}"
                minimal
                shadow-on-hover>
              </salla-product-card>
            {% endfor %}
          </div>

          <div class="order-1 xl:order-2">
            {% if section.featured_product %}
              <salla-product-card
                product="{{ section.featured_product }}"
                fullImage
                shadow-on-hover>
              </salla-product-card>
            {% elseif section.products|length %}
              <salla-product-card
                product="{{ section.products|first }}"
                fullImage
                shadow-on-hover>
              </salla-product-card>
            {% endif %}
          </div>
        </div>
      </section>
    {% endfor %}
  </div>
</section>
