# üìö Tharaa Theme - Complete Development Reference Manual
### Comprehensive Guide for Building Professional Salla Themes

**Version:** 2.0  
**Last Updated:** February 2026  
**Official Documentation:** https://docs.salla.dev/

---

## Table of Contents

1. [Web Components - Complete Reference](#1-web-components-complete-reference)
2. [Theme Features - Full Catalog](#2-theme-features-full-catalog)
3. [twilight.json Configuration - Complete Guide](#3-twilightjson-configuration-complete-guide)
4. [Layouts and Pages Architecture](#4-layouts-and-pages-architecture)
5. [Best Practices for Theme Development](#5-best-practices-for-theme-development)
6. [Advanced Topics and Tips](#6-advanced-topics-and-tips)

---

## 1. Web Components - Complete Reference

Salla provides a comprehensive collection of pre-built Web Components through the Twilight framework. These components are production-ready, optimized, and fully integrated with Salla's backend APIs.

### 1.1 Elements Components

#### 1.1.1 `<salla-apps-icons>`

**Purpose:**  
Displays clickable app store badges (Google Play Store and Apple App Store) for the merchant's mobile application.

**Use Case:**  
Footer sections, promotional banners, or dedicated app download pages.

**Properties:**
```html
<!-- No required properties - automatically fetches store app links -->
<salla-apps-icons></salla-apps-icons>
```

**Attributes:**
- Auto-detects if store has mobile app configured
- Shows appropriate badges based on availability

**Events:**
- None specific to this component

**Example Usage in Twig:**
```twig
{# Footer Component - App Download Section #}
<div class="tharaa-footer__apps">
  <h3>{{ trans('common.download_app') }}</h3>
  <salla-apps-icons></salla-apps-icons>
</div>
```

**CSS Customization:**
```scss
.tharaa-footer__apps {
  salla-apps-icons {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
  }
}
```

---

#### 1.1.2 `<salla-breadcrumb>`

**Purpose:**  
Displays navigation breadcrumbs showing the user's current location within the site hierarchy.

**Use Case:**  
Product pages, category pages, blog posts - helps users navigate back through parent pages.

**Properties:**
```html
<salla-breadcrumb></salla-breadcrumb>
```

**Attributes:**
- Automatically generates breadcrumb trail based on current page
- Uses structured data for SEO (Schema.org BreadcrumbList)

**Events:**
- Click events on breadcrumb links (standard DOM events)

**Example Usage in Twig:**
```twig
{# Product Page - Breadcrumb Navigation #}
<div class="tharaa-breadcrumb-wrapper">
  <salla-breadcrumb></salla-breadcrumb>
</div>
```

**SEO Benefits:**
- Automatically includes JSON-LD structured data
- Improves Google search result display
- Enhances user navigation experience

**Styling Example:**
```scss
.tharaa-breadcrumb-wrapper {
  salla-breadcrumb {
    font-size: 0.875rem;
    color: var(--tharaa-text-light);
    
    a {
      color: var(--tharaa-primary);
      text-decoration: none;
      
      &:hover {
        color: var(--tharaa-secondary);
      }
    }
  }
}
```

---

#### 1.1.3 `<salla-count-down>`

**Purpose:**  
Displays a countdown timer showing time remaining until a specific date/time.

**Use Case:**  
- Flash sales
- Limited-time offers
- Product launch countdowns
- Seasonal promotions

**Properties:**
```html
<salla-count-down 
  date="2026-12-31 23:59:59"
  show-days="true"
  show-hours="true"
  show-minutes="true"
  show-seconds="true"
  format="default">
</salla-count-down>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `date` | String | Required | Target date in format: YYYY-MM-DD HH:MM:SS |
| `show-days` | Boolean | true | Display days remaining |
| `show-hours` | Boolean | true | Display hours remaining |
| `show-minutes` | Boolean | true | Display minutes remaining |
| `show-seconds` | Boolean | true | Display seconds remaining |
| `format` | String | 'default' | Display format (default, compact) |
| `labels` | String | Auto | Custom labels for time units |

**Events:**
- `countdownComplete` - Fired when countdown reaches zero

**Example Usage in Twig:**
```twig
{# Flash Sale Banner #}
<div class="tharaa-flash-sale">
  <h2>{{ trans('offers.flash_sale_ends') }}</h2>
  <salla-count-down 
    date="{{ offer.end_date }}"
    show-days="true"
    show-hours="true"
    show-minutes="true"
    show-seconds="true">
  </salla-count-down>
</div>

{# Product Page - Limited Offer #}
{% if product.has_offer and product.offer_end_date %}
<div class="tharaa-product__offer-timer">
  <span class="tharaa-product__offer-label">
    {{ trans('products.offer_ends') }}
  </span>
  <salla-count-down date="{{ product.offer_end_date }}">
  </salla-count-down>
</div>
{% endif %}
```

**JavaScript Event Handling:**
```javascript
// Listen for countdown completion
document.querySelector('salla-count-down').addEventListener('countdownComplete', () => {
  console.log('Sale ended!');
  // Refresh product pricing or hide offer
  location.reload();
});
```

**Styling Example:**
```scss
.tharaa-flash-sale {
  background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
  padding: 2rem;
  text-align: center;
  
  salla-count-down {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
    
    // Customize countdown units
    .s-countdown-unit {
      background: var(--tharaa-secondary);
      color: var(--tharaa-primary);
      padding: 1rem;
      border-radius: 8px;
      min-width: 80px;
      
      .s-countdown-value {
        font-size: 2rem;
        font-weight: 700;
        display: block;
      }
      
      .s-countdown-label {
        font-size: 0.75rem;
        text-transform: uppercase;
        margin-top: 0.5rem;
      }
    }
  }
}
```

---

#### 1.1.4 `<salla-color-picker>`

**Purpose:**  
Provides a color selection interface for product options (e.g., selecting product color variant).

**Use Case:**  
Product pages where customers need to select color variations.

**Properties:**
```html
<salla-color-picker 
  colors='["#FF0000", "#00FF00", "#0000FF"]'
  selected="#FF0000"
  name="color"
  required="true">
</salla-color-picker>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `colors` | Array (JSON) | Required | Array of hex color codes |
| `selected` | String | null | Initially selected color |
| `name` | String | 'color' | Form field name |
| `required` | Boolean | false | Whether selection is required |

**Events:**
- `colorChanged` - Fired when user selects a different color
- `modalOpened` - When color picker modal opens
- `modalClosed` - When color picker modal closes
- `colorSubmitted` - When user confirms selection

**Example Usage in Twig:**
```twig
{# Product Options - Color Selection #}
{% if product.has_color_options %}
<div class="tharaa-product__color-picker">
  <label class="tharaa-product__option-label">
    {{ trans('products.select_color') }}
  </label>
  
  <salla-color-picker 
    colors='{{ product.color_options|json_encode }}'
    selected="{{ product.default_color }}"
    name="product_color"
    required="true">
  </salla-color-picker>
</div>
{% endif %}
```

**JavaScript Event Handling:**
```javascript
const colorPicker = document.querySelector('salla-color-picker');

colorPicker.addEventListener('colorChanged', (event) => {
  const selectedColor = event.detail.color;
  console.log('Color selected:', selectedColor);
  
  // Update product image based on color
  updateProductImage(selectedColor);
});
```

**Methods:**
```javascript
// Get selected color
const selectedColor = colorPicker.getSelectedColor();

// Set color programmatically
colorPicker.setColor('#FF0000');

// Open color picker modal
colorPicker.open();

// Close color picker modal
colorPicker.close();
```

---

#### 1.1.5 `<salla-infinite-scroll>`

**Purpose:**  
Enables infinite scrolling to load content continuously as the user scrolls down the page, eliminating traditional pagination.

**Use Case:**  
- Product listing pages
- Blog listing pages
- Search results
- Any paginated content

**Properties:**
```html
<salla-infinite-scroll 
  url="{{ pagination_url }}"
  threshold="200"
  loader="default">
</salla-infinite-scroll>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `url` | String | Required | API endpoint for loading next page |
| `threshold` | Number | 200 | Distance from bottom (px) to trigger load |
| `loader` | String | 'default' | Loading indicator style |
| `auto-load` | Boolean | true | Automatically load on scroll |

**Events:**
- `beforeLoad` - Before new content is requested
- `contentLoaded` - After new content is loaded
- `noMoreContent` - When all content has been loaded
- `loadError` - If loading fails

**Example Usage in Twig:**
```twig
{# Product Listing Page with Infinite Scroll #}
<div class="tharaa-products-grid">
  {% for product in products %}
    {% include 'components.product.card' with {product: product} %}
  {% endfor %}
</div>

{# Infinite Scroll Component #}
{% if pagination.has_more_pages %}
<salla-infinite-scroll 
  url="{{ pagination.next_page_url }}"
  threshold="300"
  auto-load="true">
  
  {# Custom Loading Template (Optional) #}
  <div slot="loader" class="tharaa-infinite-loader">
    <salla-skeleton type="product-card" count="4"></salla-skeleton>
  </div>
  
  {# End Message (Optional) #}
  <div slot="end-message" class="tharaa-infinite-end">
    <p>{{ trans('common.no_more_products') }}</p>
  </div>
</salla-infinite-scroll>
{% endif %}
```

**JavaScript Event Handling:**
```javascript
const infiniteScroll = document.querySelector('salla-infinite-scroll');

// Track analytics when new products load
infiniteScroll.addEventListener('contentLoaded', (event) => {
  const newProducts = event.detail.products;
  console.log(`Loaded ${newProducts.length} more products`);
  
  // Re-initialize any JS components on new products
  initProductCardInteractions();
});

// Handle end of content
infiniteScroll.addEventListener('noMoreContent', () => {
  console.log('All products loaded');
  // Show recommended products or related categories
  showRecommendations();
});
```

**Methods:**
```javascript
// Manually trigger load
infiniteScroll.loadMore();

// Disable infinite scroll
infiniteScroll.disable();

// Enable infinite scroll
infiniteScroll.enable();

// Reset and reload from start
infiniteScroll.reset();
```

**Performance Best Practices:**
```javascript
// Debounce scroll events for better performance
let scrollTimeout;
window.addEventListener('scroll', () => {
  clearTimeout(scrollTimeout);
  scrollTimeout = setTimeout(() => {
    // Handle scroll-related UI updates
  }, 100);
});
```

---

#### 1.1.6 `<salla-filters>`

**Purpose:**  
Advanced product filtering UI with multiple filter types (price range, categories, brands, attributes).

**Use Case:**  
Product listing pages to allow customers to filter and refine search results.

**Properties:**
```html
<salla-filters 
  collapse-filters="false"
  show-count="true"
  position="sidebar">
</salla-filters>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `collapse-filters` | Boolean | false | Start with filters collapsed |
| `show-count` | Boolean | true | Show product count per filter |
| `position` | String | 'sidebar' | Filter position (sidebar, top) |
| `style` | String | 'default' | Filter style variant |

**Events:**
- `filterChanged` - When any filter is applied/removed
- `filtersCleared` - When all filters are cleared
- `filterApplied` - When user clicks "Apply Filters"

**Example Usage in Twig:**
```twig
{# Product Listing - With Sidebar Filters #}
<div class="tharaa-products-container">
  
  {# Filters Sidebar #}
  <aside class="tharaa-products-sidebar">
    <div class="tharaa-filters-header">
      <h3>{{ trans('products.filter_products') }}</h3>
      <button class="tharaa-btn-clear-filters">
        {{ trans('products.clear_all') }}
      </button>
    </div>
    
    <salla-filters 
      collapse-filters="false"
      show-count="true"
      position="sidebar">
    </salla-filters>
  </aside>
  
  {# Products Grid #}
  <main class="tharaa-products-main">
    <div class="tharaa-products-toolbar">
      <span class="tharaa-products-count">
        {{ trans('products.showing_count', {count: products.total}) }}
      </span>
      
      {# Mobile Filter Toggle #}
      <button class="tharaa-btn-mobile-filters">
        <i class="sicon-filter"></i>
        {{ trans('products.filters') }}
      </button>
    </div>
    
    <div class="tharaa-products-grid">
      {% for product in products %}
        {% include 'components.product.card' %}
      {% endfor %}
    </div>
  </main>
</div>
```

**JavaScript Integration:**
```javascript
const filters = document.querySelector('salla-filters');

// Listen for filter changes
filters.addEventListener('filterChanged', (event) => {
  const activeFilters = event.detail.filters;
  console.log('Active filters:', activeFilters);
  
  // Update URL with filter parameters
  updateURLWithFilters(activeFilters);
  
  // Show loading state
  showProductsLoading();
  
  // Fetch filtered products
  fetchFilteredProducts(activeFilters);
});

// Clear all filters
document.querySelector('.tharaa-btn-clear-filters').addEventListener('click', () => {
  filters.clearAll();
});

// Mobile filter toggle
document.querySelector('.tharaa-btn-mobile-filters').addEventListener('click', () => {
  filters.toggle();
});
```

**Methods:**
```javascript
// Get active filters
const activeFilters = filters.getActiveFilters();
// Returns: { categories: [1, 2], brands: [5], price_range: {min: 50, max: 500} }

// Clear all filters
filters.clearAll();

// Clear specific filter
filters.clearFilter('categories');

// Apply filters programmatically
filters.applyFilters({
  categories: [1, 2, 3],
  brands: [5],
  price_range: {min: 100, max: 1000}
});

// Toggle filter panel (mobile)
filters.toggle();
```

**Styling Example:**
```scss
.tharaa-products-container {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 2rem;
  
  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.tharaa-products-sidebar {
  salla-filters {
    // Customize filter groups
    .s-filter-group {
      border-bottom: 1px solid var(--tharaa-border);
      padding: 1.5rem 0;
      
      &:last-child {
        border-bottom: none;
      }
    }
    
    // Customize filter titles
    .s-filter-title {
      font-family: var(--tharaa-font-heading);
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--tharaa-primary);
    }
    
    // Customize checkboxes
    .s-filter-option {
      display: flex;
      align-items: center;
      padding: 0.5rem 0;
      cursor: pointer;
      
      &:hover {
        color: var(--tharaa-secondary);
      }
      
      input[type="checkbox"] {
        margin-inline-end: 0.75rem;
      }
      
      .s-filter-count {
        margin-inline-start: auto;
        font-size: 0.875rem;
        color: var(--tharaa-text-light);
      }
    }
    
    // Price range slider
    .s-price-range {
      padding: 1rem 0;
      
      .s-price-inputs {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
        
        input {
          flex: 1;
          padding: 0.5rem;
          border: 1px solid var(--tharaa-border);
          border-radius: 4px;
        }
      }
    }
  }
}

// Mobile filter panel
@media (max-width: 768px) {
  salla-filters {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: white;
    z-index: 1000;
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    
    &.is-open {
      transform: translateX(0);
    }
  }
}
```

---

#### 1.1.7 `<salla-loading>`

**Purpose:**  
Displays loading indicators to show that content is being fetched.

**Use Case:**  
Anywhere you need to show loading state (AJAX requests, page transitions).

**Properties:**
```html
<salla-loading 
  type="spinner"
  size="medium"
  color="primary">
</salla-loading>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `type` | String | 'spinner' | Type: spinner, dots, pulse, skeleton |
| `size` | String | 'medium' | Size: small, medium, large |
| `color` | String | 'primary' | Color variant |

**Example Usage in Twig:**
```twig
{# Loading State for Product Grid #}
<div class="tharaa-products-loading" style="display: none;">
  <salla-loading type="spinner" size="large"></salla-loading>
  <p>{{ trans('common.loading_products') }}</p>
</div>
```

---

#### 1.1.8 `<salla-skeleton>`

**Purpose:**  
Displays placeholder content while actual content is loading (better UX than blank spaces).

**Use Case:**  
Product cards, blog posts, any content that loads asynchronously.

**Properties:**
```html
<salla-skeleton 
  type="product-card"
  count="4"
  animated="true">
</salla-skeleton>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `type` | String | Required | Type: product-card, text, image, custom |
| `count` | Number | 1 | Number of skeleton items to show |
| `animated` | Boolean | true | Enable shimmer animation |

**Example Usage in Twig:**
```twig
{# Product Grid Loading Skeletons #}
<div class="tharaa-products-grid">
  {% if products is empty %}
    <salla-skeleton 
      type="product-card" 
      count="8"
      animated="true">
    </salla-skeleton>
  {% else %}
    {% for product in products %}
      {% include 'components.product.card' %}
    {% endfor %}
  {% endif %}
</div>
```

---

#### 1.1.9 `<salla-modal>`

**Purpose:**  
Displays dialog boxes or pop-up windows on top of the current page.

**Use Case:**  
Alerts, confirmations, forms, product quick view.

**Properties:**
```html
<salla-modal 
  width="600px"
  height="auto"
  show-close="true"
  backdrop-dismiss="true">
  
  <div slot="header">Modal Title</div>
  <div slot="body">Modal Content</div>
  <div slot="footer">Modal Actions</div>
</salla-modal>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `width` | String | '600px' | Modal width |
| `height` | String | 'auto' | Modal height |
| `show-close` | Boolean | true | Show close button |
| `backdrop-dismiss` | Boolean | true | Close on backdrop click |

**Events:**
- `modalOpened` - When modal opens
- `modalClosed` - When modal closes
- `backdropClicked` - When backdrop is clicked

**Example Usage in Twig:**
```twig
{# Product Quick View Modal #}
<salla-modal 
  id="quick-view-modal"
  width="800px"
  show-close="true">
  
  <div slot="header" class="tharaa-modal__header">
    <h3>{{ trans('products.quick_view') }}</h3>
  </div>
  
  <div slot="body" class="tharaa-modal__body">
    {# Product content will be loaded here #}
  </div>
</salla-modal>
```

**JavaScript Control:**
```javascript
const modal = document.querySelector('#quick-view-modal');

// Open modal
modal.open();

// Close modal
modal.close();

// Listen for events
modal.addEventListener('modalOpened', () => {
  console.log('Modal opened');
});
```

---

### 1.2 Form Components

#### 1.2.1 `<salla-button>`

**Purpose:**  
Customizable button component with various styles and states.

**Properties:**
```html
<salla-button 
  fill="solid"
  color="primary"
  size="medium"
  shape="default"
  width="auto"
  disabled="false">
  Click Me
</salla-button>
```

**Attributes:**

| Attribute | Type | Options | Description |
|-----------|------|---------|-------------|
| `fill` | String | solid, outline, none | Button fill style |
| `color` | String | primary, danger, success, dark | Button color |
| `size` | String | small, medium, large | Button size |
| `shape` | String | default, rounded, circle | Button shape |
| `width` | String | auto, full | Button width |
| `disabled` | Boolean | true, false | Disabled state |
| `loader` | Boolean | true, false | Show loading spinner |

**Example Usage in Twig:**
```twig
{# Primary Button #}
<salla-button fill="solid" color="primary" size="large">
  {{ trans('common.add_to_cart') }}
</salla-button>

{# Outline Button #}
<salla-button fill="outline" color="dark" size="medium">
  {{ trans('common.learn_more') }}
</salla-button>

{# Full Width Button #}
<salla-button width="full" color="primary">
  {{ trans('common.checkout') }}
</salla-button>
```

---

#### 1.2.2 `<salla-tel-input>`

**Purpose:**  
Telephone number input with country code selection and validation.

**Use Case:**  
Registration forms, checkout forms, profile pages.

**Properties:**
```html
<salla-tel-input 
  country-code="sa"
  country-key="+966"
  mobile="555555555"
  name="phone"
  required="true"
  placeholder="Enter phone number">
</salla-tel-input>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `country-code` | String | 'sa' | Default country code (ISO 2-letter) |
| `country-key` | String | '+966' | Phone country prefix |
| `mobile` | String | '' | Pre-filled phone number |
| `name` | String | 'phone' | Form field name |
| `required` | Boolean | false | Whether field is required |
| `placeholder` | String | '' | Input placeholder text |

**Events:**
- `phoneEntered` - When user enters/changes phone number
- `countryChanged` - When user changes country code
- `validated` - After validation check

**Example Usage in Twig:**
```twig
{# Registration Form - Phone Input #}
<div class="tharaa-form-group">
  <label class="tharaa-form-label">
    {{ trans('auth.phone_number') }}
    <span class="required">*</span>
  </label>
  
  <salla-tel-input 
    country-code="sa"
    country-key="+966"
    name="mobile"
    required="true"
    placeholder="{{ trans('auth.enter_phone') }}">
  </salla-tel-input>
</div>
```

**JavaScript Validation:**
```javascript
const telInput = document.querySelector('salla-tel-input');

// Listen for phone input
telInput.addEventListener('phoneEntered', (event) => {
  const phoneData = event.detail;
  console.log('Phone:', phoneData.phone);
  console.log('Country:', phoneData.country);
  console.log('Full number:', phoneData.fullNumber);
});

// Get values programmatically
const phoneValues = telInput.getValues();
// Returns: { phone: '555555555', country: 'SA', countryKey: '+966' }

// Validate phone number
const isValid = telInput.isValid();
if (!isValid) {
  // Show error message
  showError('Please enter a valid phone number');
}
```

---

#### 1.2.3 `<salla-quantity-input>`

**Purpose:**  
Quantity selector with increment/decrement buttons.

**Use Case:**  
Product pages, cart items.

**Properties:**
```html
<salla-quantity-input 
  value="1"
  min="1"
  max="10"
  step="1"
  name="quantity">
</salla-quantity-input>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `value` | Number | 1 | Initial quantity |
| `min` | Number | 1 | Minimum allowed quantity |
| `max` | Number | 999 | Maximum allowed quantity |
| `step` | Number | 1 | Increment/decrement step |
| `name` | String | 'quantity' | Form field name |

**Events:**
- `quantityChanged` - When quantity changes

**Example Usage in Twig:**
```twig
{# Product Page - Quantity Selector #}
<div class="tharaa-product__quantity">
  <label>{{ trans('products.quantity') }}</label>
  <salla-quantity-input 
    value="1"
    min="1"
    max="{{ product.max_quantity }}"
    name="quantity">
  </salla-quantity-input>
</div>
```

---

#### 1.2.4 `<salla-file-upload>`

**Purpose:**  
File upload component with drag-and-drop support.

**Use Case:**  
Product customization (upload design), profile picture upload.

**Properties:**
```html
<salla-file-upload 
  accept="image/*"
  max-size="5242880"
  multiple="false"
  preview="true">
</salla-file-upload>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `accept` | String | '*' | Accepted file types |
| `max-size` | Number | 5MB | Maximum file size (bytes) |
| `multiple` | Boolean | false | Allow multiple files |
| `preview` | Boolean | true | Show image preview |

**Events:**
- `fileSelected` - When file is selected
- `fileRemoved` - When file is removed
- `uploadStarted` - When upload begins
- `uploadComplete` - When upload finishes
- `uploadError` - If upload fails

**Example Usage in Twig:**
```twig
{# Custom Product Options - Upload Design #}
{% if product.has_custom_file_upload %}
<div class="tharaa-product__file-upload">
  <label>{{ trans('products.upload_design') }}</label>
  <salla-file-upload 
    accept="image/png,image/jpeg,application/pdf"
    max-size="10485760"
    preview="true">
  </salla-file-upload>
</div>
{% endif %}
```

---

### 1.3 Product Components

#### 1.3.1 `<salla-add-product-button>`

**Purpose:**  
Smart "Add to Cart" button that handles different product types and states.

**Use Case:**  
Product cards, product pages - the main CTA for adding products to cart.

**Properties:**
```html
<salla-add-product-button 
  product-id="{{ product.id }}"
  product-status="{{ product.status }}"
  product-type="{{ product.type }}">
</salla-add-product-button>
```

**Attributes:**

| Attribute | Type | Description |
|-----------|------|-------------|
| `product-id` | Number | Product ID (required) |
| `product-status` | String | Product status: sale, out, out-and-notify |
| `product-type` | String | Product type: product, service, digital, donating, booking |

**Product Status Types:**
- `sale` - Product available for purchase ‚Üí Shows "Add to Cart"
- `out` - Product out of stock ‚Üí Shows "Sold Out" (disabled)
- `out-and-notify` - Out of stock with notification ‚Üí Shows "Notify Me"

**Product Type Labels:**
- `product` ‚Üí "Add to Cart"
- `service` ‚Üí "Book Service"
- `digital` ‚Üí "Download"
- `donating` ‚Üí "Donate"
- `booking` ‚Üí "Book Now"

**Events:**
- `productAdded` - When product successfully added to cart
- `addFailed` - If adding to cart fails
- `notificationRequested` - When user requests stock notification

**Example Usage in Twig:**
```twig
{# Product Card - Add to Cart Button #}
<salla-add-product-button 
  product-id="{{ product.id }}"
  product-status="{{ product.is_available ? 'sale' : (product.notify_availability ? 'out-and-notify' : 'out') }}"
  product-type="{{ product.type }}">
</salla-add-product-button>

{# Advanced Example with Custom Classes #}
<salla-add-product-button 
  class="tharaa-btn tharaa-btn--luxury"
  product-id="{{ product.id }}"
  product-status="sale"
  product-type="product">
  <span class="tharaa-btn__icon">‚ú¶</span>
  <span class="tharaa-btn__text">{{ trans('products.add_to_cart') }}</span>
</salla-add-product-button>
```

**JavaScript Event Handling:**
```javascript
// Listen for product added to cart
salla.cart.event.onItemAdded((response) => {
  console.log('Product added:', response.item);
  
  // Show success notification (Tharaa custom)
  showTharaaNotification({
    type: 'success',
    title: 'Added to Cart',
    message: `${response.item.name} has been added to your cart`,
    icon: '‚úì'
  });
  
  // Update cart count
  updateCartCount(response.cart.items_count);
  
  // Optional: Show mini cart
  showMiniCart();
});

// Handle errors
salla.cart.event.onItemAddFailed((error) => {
  console.error('Failed to add product:', error);
  
  showTharaaNotification({
    type: 'error',
    title: 'Error',
    message: error.message,
    icon: '‚úï'
  });
});
```

**Quick Buy Feature (Express Checkout):**

The `<salla-add-product-button>` component now supports **express checkout** directly from the product page. When enabled, customers can complete their purchase using:
- Apple Pay
- Credit cards (Visa, MasterCard, Mada)
- Installment plans (Tabby, Tamara)
- Cash on delivery

This feature displays a payment modal with:
- Cart summary
- Price details (discounts, shipping)
- Coupon application
- Address selection
- Shipping company selection
- Direct payment methods

**Note:** This is a Salla-controlled feature and cannot be customized by theme developers. It can only be called/triggered.

```twig
{# The button automatically shows Quick Buy option if enabled in store settings #}
<salla-add-product-button 
  product-id="{{ product.id }}"
  product-status="sale">
</salla-add-product-button>
```

---

#### 1.3.2 `<salla-product-card>`

**Purpose:**  
Pre-built product card component with image, title, price, and quick actions.

**Use Case:**  
Product grids, sliders, related products.

**Properties:**
```html
<salla-product-card 
  product-id="{{ product.id }}"
  product='{{ product|json_encode }}'
  display-mode="grid">
</salla-product-card>
```

**Attributes:**

| Attribute | Type | Description |
|-----------|------|-------------|
| `product-id` | Number | Product ID |
| `product` | Object (JSON) | Full product object |
| `display-mode` | String | Display mode: grid, list |

**Example Usage in Twig:**
```twig
{# Using Salla's Default Product Card #}
<div class="tharaa-products-grid">
  {% for product in products %}
    <salla-product-card 
      product-id="{{ product.id }}"
      product='{{ product|json_encode }}'>
    </salla-product-card>
  {% endfor %}
</div>

{# OR use your custom product card #}
<div class="tharaa-products-grid">
  {% for product in products %}
    {% include 'components.product.card' with {product: product} %}
  {% endfor %}
</div>
```

**When to Use:**
- ‚úÖ Use `<salla-product-card>` for quick implementation with zero styling needed
- ‚úÖ Use custom card (recommended for Tharaa) for full design control and brand identity

---

#### 1.3.3 `<salla-product-options>`

**Purpose:**  
Displays and manages product options (size, color, material, etc.).

**Use Case:**  
Single product page where customers select product variations.

**Properties:**
```html
<salla-product-options 
  product-id="{{ product.id }}"
  options='{{ product.options|json_encode }}'>
</salla-product-options>
```

**Attributes:**

| Attribute | Type | Description |
|-----------|------|-------------|
| `product-id` | Number | Product ID |
| `options` | Array (JSON) | Product options array |

**Events:**
- `optionChanged` - When any option is changed
- `variantChanged` - When option change affects price/stock

**Example Usage in Twig:**
```twig
{# Product Page - Options Section #}
{% if product.has_options %}
<div class="tharaa-product__options">
  <h3>{{ trans('products.select_options') }}</h3>
  
  <salla-product-options 
    product-id="{{ product.id }}"
    options='{{ product.options|json_encode }}'>
  </salla-product-options>
</div>
{% endif %}
```

**JavaScript Handling:**
```javascript
const productOptions = document.querySelector('salla-product-options');

productOptions.addEventListener('optionChanged', (event) => {
  const changedOption = event.detail;
  console.log('Option changed:', changedOption);
  
  // Update product price based on selected options
  updateProductPrice(changedOption.selectedOptions);
  
  // Update product image if option has images
  if (changedOption.hasImages) {
    updateProductImage(changedOption.selectedImage);
  }
});

// Get selected options
const selectedOptions = productOptions.getSelectedOptions();
// Returns: [{ id: 1, name: 'Size', value: 'Large' }, ...]

// Get specific option by ID
const sizeOption = productOptions.getOption(1);
```

---

#### 1.3.4 `<salla-installment>`

**Purpose:**  
Displays available installment payment plans for a product.

**Use Case:**  
Product pages where installment payments are available (Tabby, Tamara).

**Properties:**
```html
<salla-installment 
  product-id="{{ product.id }}"
  price="{{ product.price }}"
  show-logos="true">
</salla-installment>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `product-id` | Number | Required | Product ID |
| `price` | Number | Required | Product price |
| `show-logos` | Boolean | true | Show payment provider logos |

**Example Usage in Twig:**
```twig
{# Product Page - Installment Info #}
{% if product.has_installment %}
<div class="tharaa-product__installment">
  <h4>{{ trans('products.installment_available') }}</h4>
  
  <salla-installment 
    product-id="{{ product.id }}"
    price="{{ product.price }}"
    show-logos="true">
  </salla-installment>
  
  <p class="tharaa-product__installment-note">
    {{ trans('products.installment_description') }}
  </p>
</div>
{% endif %}
```

**Styling Example:**
```scss
.tharaa-product__installment {
  background: var(--tharaa-bg-light);
  padding: 1.5rem;
  border-radius: 8px;
  margin-top: 1.5rem;
  
  salla-installment {
    .s-installment-option {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      border: 1px solid var(--tharaa-border);
      border-radius: 4px;
      margin-bottom: 0.75rem;
      
      &:hover {
        border-color: var(--tharaa-secondary);
      }
      
      .s-installment-logo {
        width: 80px;
      }
      
      .s-installment-details {
        flex: 1;
        padding: 0 1rem;
        
        .s-installment-label {
          font-weight: 600;
          color: var(--tharaa-primary);
        }
        
        .s-installment-price {
          font-size: 1.25rem;
          color: var(--tharaa-secondary);
          margin-top: 0.25rem;
        }
      }
    }
  }
}
```

---

#### 1.3.5 `<salla-gifting>`

**Purpose:**  
Displays and manages gift options for products.

**Use Case:**  
Product pages and checkout where customers can add gift wrapping or messages.

**Properties:**
```html
<salla-gifting 
  product-id="{{ product.id }}"
  show-message="true"
  show-wrapping="true">
</salla-gifting>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `product-id` | Number | Required | Product ID |
| `show-message` | Boolean | true | Show gift message option |
| `show-wrapping` | Boolean | true | Show gift wrapping option |

**Events:**
- `giftingSelected` - When gifting option is selected
- `giftMessageAdded` - When gift message is added

**Example Usage in Twig:**
```twig
{# Product Page - Gift Options #}
{% if product.can_be_gift %}
<div class="tharaa-product__gifting">
  <h4>
    <i class="sicon-gift"></i>
    {{ trans('products.make_it_gift') }}
  </h4>
  
  <salla-gifting 
    product-id="{{ product.id }}"
    show-message="true"
    show-wrapping="true">
  </salla-gifting>
</div>
{% endif %}
```

---

#### 1.3.6 `<salla-product-availability>`

**Purpose:**  
Allows customers to subscribe for notifications when out-of-stock products become available.

**Use Case:**  
Product pages for out-of-stock items.

**Properties:**
```html
<salla-product-availability 
  product-id="{{ product.id }}"
  channels="email,sms,mobile"
  is-subscribed="false">
</salla-product-availability>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `product-id` | Number | Required | Product ID |
| `channels` | String | 'email' | Notification channels (comma-separated) |
| `is-subscribed` | Boolean | false | Whether user is already subscribed |

**Example Usage in Twig:**
```twig
{# Product Page - Out of Stock Notification #}
{% if not product.is_available and product.notify_availability %}
<div class="tharaa-product__availability">
  <p class="tharaa-product__out-of-stock">
    <i class="sicon-cancel"></i>
    {{ trans('products.out_of_stock') }}
  </p>
  
  <salla-product-availability 
    product-id="{{ product.id }}"
    channels="email,sms"
    is-subscribed="{{ user.is_subscribed_to(product.id) }}">
  </salla-product-availability>
</div>
{% endif %}
```

---

### 1.4 User Components

#### 1.4.1 `<salla-localization-modal>`

**Purpose:**  
Modal for selecting store language and currency.

**Use Case:**  
Header or footer - allows customers to change language and currency preferences.

**Properties:**
```html
<salla-localization-modal></salla-localization-modal>
```

**Important Notes:**
- ‚ö†Ô∏è **Must NOT be called more than once on the same page**
- Automatically detects available languages and currencies from store settings
- Changes are persisted in session

**Events:**
- `languageChanged` - When language is changed
- `currencyChanged` - When currency is changed
- `localizationChanged` - When either language or currency changes

**Example Usage in Twig:**
```twig
{# Header Component - Language/Currency Selector #}
<div class="tharaa-header__localization">
  <button class="tharaa-btn-localization" id="localization-trigger">
    <i class="sicon-globe"></i>
    <span>{{ user.language.name }} ({{ user.currency.code }})</span>
  </button>
  
  {# Only include once per page! #}
  <salla-localization-modal></salla-localization-modal>
</div>
```

**JavaScript Trigger:**
```javascript
// Open localization modal programmatically
const localizationModal = document.querySelector('salla-localization-modal');

document.querySelector('#localization-trigger').addEventListener('click', () => {
  localizationModal.open();
});

// Listen for changes
localizationModal.addEventListener('languageChanged', (event) => {
  console.log('Language changed to:', event.detail.language);
  // Reload page to apply new language
  window.location.reload();
});

localizationModal.addEventListener('currencyChanged', (event) => {
  console.log('Currency changed to:', event.detail.currency);
  // Update prices on page or reload
  window.location.reload();
});
```

---

#### 1.4.2 `<salla-login-modal>`

**Purpose:**  
Displays login/register form modal.

**Use Case:**  
Header, checkout page - allows customers to authenticate.

**Properties:**
```html
<salla-login-modal></salla-login-modal>
```

**Events:**
- `loginSuccess` - When user successfully logs in
- `loginFailed` - When login fails
- `registerSuccess` - When user successfully registers

**Example Usage in Twig:**
```twig
{# Header - Login Button #}
{% if not user.is_logged %}
<button class="tharaa-btn-login" id="login-trigger">
  <i class="sicon-user"></i>
  {{ trans('auth.login') }}
</button>

<salla-login-modal></salla-login-modal>
{% endif %}
```

**JavaScript Control:**
```javascript
const loginModal = document.querySelector('salla-login-modal');

// Open login modal
document.querySelector('#login-trigger').addEventListener('click', () => {
  loginModal.open();
});

// Handle successful login
salla.event.auth.onLogin(() => {
  console.log('User logged in successfully');
  // Reload to show logged-in state
  window.location.reload();
});
```

---

#### 1.4.3 `<salla-user-menu>`

**Purpose:**  
Navigation menu for logged-in users (Profile, Orders, Wishlist, Logout).

**Use Case:**  
Header dropdown menu for user account actions.

**Properties:**
```html
<salla-user-menu></salla-user-menu>
```

**Example Usage in Twig:**
```twig
{# Header - User Menu (for logged-in users) #}
{% if user.is_logged %}
<div class="tharaa-header__user-menu">
  <button class="tharaa-btn-user" id="user-menu-trigger">
    {% if user.avatar %}
      <img src="{{ user.avatar }}" alt="{{ user.name }}">
    {% else %}
      <i class="sicon-user"></i>
    {% endif %}
    <span>{{ user.first_name }}</span>
  </button>
  
  <salla-user-menu></salla-user-menu>
</div>
{% endif %}
```

---

#### 1.4.4 `<salla-cart-summary>`

**Purpose:**  
Displays cart icon with item count badge.

**Use Case:**  
Header - shows cart status and count.

**Properties:**
```html
<salla-cart-summary></salla-cart-summary>
```

**Events:**
- `cartUpdated` - When cart count changes

**Example Usage in Twig:**
```twig
{# Header - Cart Icon #}
<div class="tharaa-header__cart">
  <a href="{{ url('cart') }}" class="tharaa-cart-link">
    <salla-cart-summary></salla-cart-summary>
  </a>
</div>
```

**Styling:**
```scss
.tharaa-header__cart {
  salla-cart-summary {
    position: relative;
    
    .s-cart-icon {
      font-size: 1.5rem;
      color: var(--tharaa-primary);
    }
    
    .s-cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--tharaa-secondary);
      color: var(--tharaa-primary);
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
    }
  }
}
```

---

#### 1.4.5 `<salla-search>`

**Purpose:**  
Search box with autocomplete and product suggestions.

**Use Case:**  
Header search bar.

**Properties:**
```html
<salla-search 
  placeholder="{{ trans('common.search_products') }}"
  auto-complete="true"
  min-chars="2">
</salla-search>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `placeholder` | String | '' | Search input placeholder |
| `auto-complete` | Boolean | true | Enable autocomplete suggestions |
| `min-chars` | Number | 2 | Minimum characters to trigger search |

**Example Usage in Twig:**
```twig
{# Header - Search Bar #}
<div class="tharaa-header__search">
  <salla-search 
    placeholder="{{ trans('common.search_store') }}"
    auto-complete="true"
    min-chars="2">
  </salla-search>
</div>
```

---

### 1.5 Additional Components

#### 1.5.1 `<salla-slider>`

**Purpose:**  
Image/content slider component.

**Use Case:**  
Hero banners, product image galleries, testimonials.

**Properties:**
```html
<salla-slider 
  slides-to-show="1"
  slides-to-scroll="1"
  auto-play="true"
  auto-play-speed="3000"
  dots="true"
  arrows="true"
  infinite="true">
  
  <div slot="slide">Slide 1 Content</div>
  <div slot="slide">Slide 2 Content</div>
  <div slot="slide">Slide 3 Content</div>
</salla-slider>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `slides-to-show` | Number | 1 | Number of slides visible |
| `slides-to-scroll` | Number | 1 | Number of slides to scroll |
| `auto-play` | Boolean | false | Enable autoplay |
| `auto-play-speed` | Number | 3000 | Autoplay interval (ms) |
| `dots` | Boolean | true | Show navigation dots |
| `arrows` | Boolean | true | Show prev/next arrows |
| `infinite` | Boolean | true | Infinite loop |
| `responsive` | Array | [] | Responsive breakpoints |

**Example Usage in Twig:**
```twig
{# Hero Banner Slider #}
<div class="tharaa-hero-slider">
  <salla-slider 
    slides-to-show="1"
    auto-play="true"
    auto-play-speed="5000"
    dots="true"
    arrows="true"
    infinite="true">
    
    {% for banner in banners %}
    <div slot="slide" class="tharaa-hero-slide">
      <img src="{{ banner.image }}" alt="{{ banner.title }}">
      <div class="tharaa-hero-content">
        <h1>{{ banner.title }}</h1>
        <p>{{ banner.description }}</p>
        <a href="{{ banner.link }}" class="tharaa-btn tharaa-btn--luxury">
          {{ banner.cta_text }}
        </a>
      </div>
    </div>
    {% endfor %}
  </salla-slider>
</div>

{# Product Images Slider #}
<div class="tharaa-product__gallery">
  <salla-slider 
    slides-to-show="1"
    dots="true"
    arrows="true">
    
    {% for image in product.images %}
    <div slot="slide">
      <img src="{{ image.url }}" alt="{{ product.name }} - Image {{ loop.index }}">
    </div>
    {% endfor %}
  </salla-slider>
</div>
```

---

#### 1.5.2 `<salla-rating-stars>`

**Purpose:**  
Displays rating as stars (1-5).

**Use Case:**  
Product cards, product pages, reviews.

**Properties:**
```html
<salla-rating-stars 
  rating="4.5"
  max="5"
  read-only="true"
  show-count="true"
  count="120">
</salla-rating-stars>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `rating` | Number | 0 | Rating value (0-5) |
| `max` | Number | 5 | Maximum rating |
| `read-only` | Boolean | true | Non-interactive display |
| `show-count` | Boolean | false | Show review count |
| `count` | Number | 0 | Number of reviews |

**Example Usage in Twig:**
```twig
{# Product Card - Rating Display #}
{% if product.rating %}
<div class="tharaa-product__rating">
  <salla-rating-stars 
    rating="{{ product.rating }}"
    read-only="true"
    show-count="true"
    count="{{ product.reviews_count }}">
  </salla-rating-stars>
</div>
{% endif %}
```

---

#### 1.5.3 `<salla-reviews>`

**Purpose:**  
Displays product reviews list.

**Use Case:**  
Product page reviews section.

**Properties:**
```html
<salla-reviews 
  product-id="{{ product.id }}"
  per-page="10"
  show-form="true">
</salla-reviews>
```

**Attributes:**

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `product-id` | Number | Required | Product ID |
| `per-page` | Number | 10 | Reviews per page |
| `show-form` | Boolean | true | Show review submission form |

**Example Usage in Twig:**
```twig
{# Product Page - Reviews Section #}
<div class="tharaa-product__reviews">
  <h3>{{ trans('products.customer_reviews') }}</h3>
  
  <salla-reviews 
    product-id="{{ product.id }}"
    per-page="10"
    show-form="true">
  </salla-reviews>
</div>
```

---

#### 1.5.4 `<salla-comments>`

**Purpose:**  
Comment system for products or pages.

**Use Case:**  
Product pages, blog posts.

**Properties:**
```html
<salla-comments 
  resource-type="product"
  resource-id="{{ product.id }}"
  show-form="true">
</salla-comments>
```

**Attributes:**

| Attribute | Type | Description |
|-----------|------|-------------|
| `resource-type` | String | Type: product, page, blog |
| `resource-id` | Number | Resource ID |
| `show-form` | Boolean | Show comment form |

**Example Usage in Twig:**
```twig
{# Blog Post - Comments Section #}
<div class="tharaa-blog__comments">
  <h3>{{ trans('blog.comments') }}</h3>
  
  <salla-comments 
    resource-type="blog"
    resource-id="{{ blog.id }}"
    show-form="true">
  </salla-comments>
</div>
```

---

#### 1.5.5 `<salla-social-share>`

**Purpose:**  
Social media sharing buttons.

**Use Case:**  
Product pages, blog posts.

**Properties:**
```html
<salla-social-share 
  url="{{ current_url }}"
  title="{{ page.title }}"
  description="{{ page.description }}"
  image="{{ page.image }}"
  networks="facebook,twitter,whatsapp,pinterest">
</salla-social-share>
```

**Attributes:**

| Attribute | Type | Description |
|-----------|------|-------------|
| `url` | String | URL to share |
| `title` | String | Share title |
| `description` | String | Share description |
| `image` | String | Share image URL |
| `networks` | String | Social networks (comma-separated) |

**Example Usage in Twig:**
```twig
{# Product Page - Share Buttons #}
<div class="tharaa-product__share">
  <h4>{{ trans('common.share_product') }}</h4>
  
  <salla-social-share 
    url="{{ product.url }}"
    title="{{ product.name }}"
    description="{{ product.description|striptags }}"
    image="{{ product.image.url }}"
    networks="facebook,twitter,whatsapp,pinterest">
  </salla-social-share>
</div>
```

---

### 1.6 Web Components Summary Table

| Component | Category | Primary Use | Key Features |
|-----------|----------|-------------|--------------|
| `salla-apps-icons` | Elements | App downloads | Auto-detects app availability |
| `salla-breadcrumb` | Elements | Navigation | SEO-optimized, structured data |
| `salla-count-down` | Elements | Promotions | Flash sales, limited offers |
| `salla-color-picker` | Elements | Product options | Color selection modal |
| `salla-infinite-scroll` | Elements | Pagination | Continuous content loading |
| `salla-filters` | Elements | Product filtering | Advanced multi-filter UI |
| `salla-loading` | Elements | Loading states | Spinner, dots, pulse |
| `salla-skeleton` | Elements | Loading placeholders | Better UX than blank |
| `salla-modal` | Elements | Dialogs | Pop-ups, alerts, forms |
| `salla-button` | Form | CTAs | Customizable buttons |
| `salla-tel-input` | Form | Phone input | Country code validation |
| `salla-quantity-input` | Form | Quantity selector | Increment/decrement |
| `salla-file-upload` | Form | File uploads | Drag-and-drop support |
| `salla-add-product-button` | Product | Add to cart | Smart product button |
| `salla-product-card` | Product | Product display | Pre-built product card |
| `salla-product-options` | Product | Variations | Size, color, etc. |
| `salla-installment` | Product | Payments | Tabby, Tamara |
| `salla-gifting` | Product | Gift options | Wrapping, messages |
| `salla-product-availability` | Product | Stock alerts | Notify me when available |
| `salla-localization-modal` | User | Language/Currency | Store localization |
| `salla-login-modal` | User | Authentication | Login/Register |
| `salla-user-menu` | User | Account menu | Profile, orders, logout |
| `salla-cart-summary` | User | Cart | Icon with badge count |
| `salla-search` | User | Search | Autocomplete suggestions |
| `salla-slider` | Additional | Sliders | Images, content |
| `salla-rating-stars` | Additional | Ratings | 1-5 star display |
| `salla-reviews` | Additional | Reviews | Review list and form |
| `salla-comments` | Additional | Comments | Comment system |
| `salla-social-share` | Additional | Sharing | Social media buttons |

---

## 2. Theme Features - Full Catalog

Theme Features are pre-defined components built by Salla that can be enabled in `twilight.json`. These components are specifically designed for the **Home Page** and provide common e-commerce functionalities.

### 2.1 Understanding Theme Features

**Key Points:**
- Theme Features are **pre-defined components** that come with Twilight
- They are located in `/src/views/components/home/`
- All features are listed in `twilight.json` under the `features` array
- Features have the prefix `component-` in twilight.json
- Merchants can enable/disable features from their dashboard
- Content is managed by the merchant through Salla admin panel

**Best Practice:**  
‚úÖ Only include Theme Features that your theme actually supports  
‚ùå Don't leave unsupported features in the features array

### 2.2 Complete List of Theme Features

#### 2.2.1 `component-featured-products`

**Purpose:**  
Displays a curated selection of featured/highlighted products chosen by the merchant.

**Location:**  
`/src/views/components/home/featured-products.twig`

**Settings:**
- Merchants can select which products to feature
- Products can be sorted manually
- Customizable section title

**How to Enable:**
```json
{
  "features": [
    "component-featured-products"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/featured-products.twig #}
{% if component.products %}
<section class="tharaa-featured-products">
  <div class="container">
    <div class="tharaa-section-header">
      <h2 class="tharaa-section-title">
        {{ component.title }}
      </h2>
      {% if component.link %}
      <a href="{{ component.link }}" class="tharaa-section-link">
        {{ trans('common.view_all') }}
      </a>
      {% endif %}
    </div>
    
    <div class="tharaa-products-grid">
      {% for product in component.products %}
        {% include 'components.product.card' with {product: product} %}
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}
```

**Available Variables:**
- `component.title` - Section title set by merchant
- `component.products` - Array of featured products
- `component.link` - Optional "View All" link
- `component.display_mode` - Grid or slider

---

#### 2.2.2 `component-fixed-banner`

**Purpose:**  
Displays a promotional banner with image, text, and call-to-action button.

**Location:**  
`/src/views/components/home/fixed-banner.twig`

**Settings:**
- Banner image upload
- Banner title and description
- CTA button text and link
- Background color/overlay options

**How to Enable:**
```json
{
  "features": [
    "component-fixed-banner"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/fixed-banner.twig #}
{% if component.image %}
<section class="tharaa-fixed-banner" 
         style="background-image: url({{ component.image }});">
  <div class="tharaa-fixed-banner__overlay"></div>
  <div class="container">
    <div class="tharaa-fixed-banner__content">
      {% if component.title %}
      <h2 class="tharaa-fixed-banner__title">
        {{ component.title }}
      </h2>
      {% endif %}
      
      {% if component.description %}
      <p class="tharaa-fixed-banner__description">
        {{ component.description }}
      </p>
      {% endif %}
      
      {% if component.cta_text and component.cta_link %}
      <a href="{{ component.cta_link }}" 
         class="tharaa-btn tharaa-btn--luxury tharaa-btn--large">
        {{ component.cta_text }}
      </a>
      {% endif %}
    </div>
  </div>
</section>
{% endif %}
```

**CSS Example:**
```scss
.tharaa-fixed-banner {
  position: relative;
  min-height: 400px;
  display: flex;
  align-items: center;
  background-size: cover;
  background-position: center;
  
  &__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg, 
      rgba(26, 26, 26, 0.7) 0%, 
      rgba(26, 26, 26, 0.3) 100%
    );
  }
  
  &__content {
    position: relative;
    z-index: 1;
    max-width: 600px;
    color: white;
    
    h2 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }
    
    p {
      font-size: 1.25rem;
      margin-bottom: 2rem;
    }
  }
}
```

---

#### 2.2.3 `component-fixed-products`

**Purpose:**  
Displays a specific set of products selected by the merchant (similar to featured products but with different layout/styling intent).

**Location:**  
`/src/views/components/home/fixed-products.twig`

**Settings:**
- Product selection
- Layout options (grid, slider, list)
- Number of products to show

**How to Enable:**
```json
{
  "features": [
    "component-fixed-products"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/fixed-products.twig #}
{% if component.products %}
<section class="tharaa-fixed-products">
  <div class="container">
    <h2 class="tharaa-section-title">{{ component.title }}</h2>
    
    <div class="tharaa-products-slider">
      <salla-slider 
        slides-to-show="4"
        slides-to-scroll="1"
        responsive='[
          {"breakpoint": 1024, "settings": {"slides-to-show": 3}},
          {"breakpoint": 768, "settings": {"slides-to-show": 2}},
          {"breakpoint": 480, "settings": {"slides-to-show": 1}}
        ]'>
        
        {% for product in component.products %}
        <div slot="slide">
          {% include 'components.product.card' with {product: product} %}
        </div>
        {% endfor %}
      </salla-slider>
    </div>
  </div>
</section>
{% endif %}
```

---

#### 2.2.4 `component-photos-slider` / `component-parallax-background`

**Purpose:**  
Image slider for promotional photos or full-width hero sections.

**Location:**  
`/src/views/components/home/photos-slider.twig`

**Settings:**
- Multiple image uploads
- Autoplay settings
- Transition effects
- Link for each image

**How to Enable:**
```json
{
  "features": [
    "component-photos-slider",
    "component-parallax-background"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/photos-slider.twig #}
{% if component.images %}
<section class="tharaa-photos-slider">
  <salla-slider 
    slides-to-show="1"
    auto-play="true"
    auto-play-speed="5000"
    dots="true"
    arrows="true"
    infinite="true">
    
    {% for image in component.images %}
    <div slot="slide" class="tharaa-photo-slide">
      {% if image.link %}
      <a href="{{ image.link }}">
      {% endif %}
        <img src="{{ image.url }}" alt="{{ image.alt }}">
      {% if image.link %}
      </a>
      {% endif %}
      
      {% if image.caption %}
      <div class="tharaa-photo-caption">
        {{ image.caption }}
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </salla-slider>
</section>
{% endif %}
```

---

#### 2.2.5 `component-products-slider`

**Purpose:**  
Product slider (similar to fixed-products but specifically designed as a slider layout).

**Location:**  
`/src/views/components/home/products-slider.twig`

**Settings:**
- Product selection
- Slider autoplay
- Number of slides visible

**How to Enable:**
```json
{
  "features": [
    "component-products-slider"
  ]
}
```

---

#### 2.2.6 `component-testimonials` / `component-random-testimonials`

**Purpose:**  
Displays customer testimonials/reviews.

**Location:**  
`/src/views/components/home/testimonials.twig`

**Settings:**
- Testimonial content management
- Customer name and photo
- Star rating
- Display mode (slider, grid)

**How to Enable:**
```json
{
  "features": [
    "component-testimonials",
    "component-random-testimonials"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/testimonials.twig #}
{% if component.testimonials %}
<section class="tharaa-testimonials">
  <div class="container">
    <h2 class="tharaa-section-title">{{ trans('home.customer_reviews') }}</h2>
    
    <div class="tharaa-testimonials-grid">
      {% for testimonial in component.testimonials %}
      <div class="tharaa-testimonial-card">
        <div class="tharaa-testimonial__rating">
          <salla-rating-stars 
            rating="{{ testimonial.rating }}"
            read-only="true">
          </salla-rating-stars>
        </div>
        
        <blockquote class="tharaa-testimonial__quote">
          "{{ testimonial.content }}"
        </blockquote>
        
        <div class="tharaa-testimonial__author">
          {% if testimonial.avatar %}
          <img src="{{ testimonial.avatar }}" alt="{{ testimonial.name }}">
          {% endif %}
          <div>
            <strong>{{ testimonial.name }}</strong>
            {% if testimonial.location %}
            <span>{{ testimonial.location }}</span>
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}
```

---

#### 2.2.7 `component-square-photos`

**Purpose:**  
Grid of square photos (usually for categories or collections).

**Location:**  
`/src/views/components/home/square-photos.twig`

**Settings:**
- Photo uploads
- Links for each photo
- Grid layout (2x2, 3x3, etc.)

**How to Enable:**
```json
{
  "features": [
    "component-square-photos"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/square-photos.twig #}
{% if component.photos %}
<section class="tharaa-square-photos">
  <div class="container">
    <h2 class="tharaa-section-title">{{ component.title }}</h2>
    
    <div class="tharaa-square-photos-grid">
      {% for photo in component.photos %}
      <div class="tharaa-square-photo">
        <a href="{{ photo.link }}">
          <div class="tharaa-square-photo__image">
            <img src="{{ photo.url }}" alt="{{ photo.title }}">
            <div class="tharaa-square-photo__overlay">
              <h3>{{ photo.title }}</h3>
            </div>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}
```

---

#### 2.2.8 `component-store-features`

**Purpose:**  
Displays store features/benefits (e.g., Free Shipping, 24/7 Support, Money-Back Guarantee).

**Location:**  
`/src/views/components/home/store-features.twig`

**Settings:**
- Icon selection
- Feature title and description
- Number of features to display

**How to Enable:**
```json
{
  "features": [
    "component-store-features"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/store-features.twig #}
{% if component.features %}
<section class="tharaa-store-features">
  <div class="container">
    <div class="tharaa-features-grid">
      {% for feature in component.features %}
      <div class="tharaa-feature-card">
        <div class="tharaa-feature__icon">
          <i class="sicon-{{ feature.icon }}"></i>
        </div>
        <div class="tharaa-feature__content">
          <h4>{{ feature.title }}</h4>
          <p>{{ feature.description }}</p>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}
```

**Common Features:**
- Free Shipping
- Secure Payment
- 24/7 Support
- Money-Back Guarantee
- Easy Returns
- Quality Products

---

#### 2.2.9 `component-youtube`

**Purpose:**  
Embeds YouTube videos (for product demos, store intro, etc.).

**Location:**  
`/src/views/components/home/youtube.twig`

**Settings:**
- YouTube video URL/ID
- Autoplay settings
- Video title and description

**How to Enable:**
```json
{
  "features": [
    "component-youtube"
  ]
}
```

**Example Twig Template:**
```twig
{# src/views/components/home/youtube.twig #}
{% if component.video_id %}
<section class="tharaa-youtube">
  <div class="container">
    {% if component.title %}
    <h2 class="tharaa-section-title">{{ component.title }}</h2>
    {% endif %}
    
    <div class="tharaa-youtube-wrapper">
      <div class="tharaa-youtube-player">
        <iframe 
          src="https://www.youtube.com/embed/{{ component.video_id }}?rel=0"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    </div>
    
    {% if component.description %}
    <p class="tharaa-youtube-description">{{ component.description }}</p>
    {% endif %}
  </div>
</section>
{% endif %}
```

---

#### 2.2.10 `filters`

**Purpose:**  
Enable product filtering functionality on category/listing pages.

**Location:**  
Not a visual component - it's a feature flag.

**Settings:**
- This feature enables the `<salla-filters>` component
- Allows merchants to configure filterable attributes

**How to Enable:**
```json
{
  "features": [
    "filters"
  ]
}
```

**Note:** This is not a home page component but a feature that enables filtering across the theme.

---

### 2.3 Theme Features Complete List

| Feature Name | Purpose | Home Page | Merchant Control |
|-------------|---------|-----------|------------------|
| `component-featured-products` | Featured product showcase | Yes | Product selection |
| `component-fixed-banner` | Promotional banner | Yes | Image, text, CTA |
| `component-fixed-products` | Fixed product set | Yes | Product selection |
| `component-photos-slider` | Image slider | Yes | Image uploads |
| `component-products-slider` | Product carousel | Yes | Product selection |
| `component-parallax-background` | Parallax banner | Yes | Image, text |
| `component-random-testimonials` | Random testimonials | Yes | Testimonial content |
| `component-testimonials` | Customer reviews | Yes | Testimonial content |
| `component-square-photos` | Photo grid | Yes | Image uploads, links |
| `component-store-features` | Store benefits | Yes | Icons, text |
| `component-youtube` | Video embed | Yes | Video URL |
| `filters` | Product filtering | No | Filter configuration |

---

### 2.4 Using Theme Features

**Method 1: Render All Features**
```twig
{# src/views/pages/index.twig #}
{% extends "layouts.master" %}

{% block content %}
  {# This will render ALL enabled features #}
  {% component 'home' %}
{% endblock %}
```

**Method 2: Manual Component Placement**
```twig
{# src/views/pages/index.twig #}
{% extends "layouts.master" %}

{% block content %}
  {# Hero Section #}
  {% include 'components.home.fixed-banner' %}
  
  {# Featured Products #}
  {% include 'components.home.featured-products' %}
  
  {# Store Features #}
  {% include 'components.home.store-features' %}
  
  {# Testimonials #}
  {% include 'components.home.testimonials' %}
  
  {# YouTube Video #}
  {% include 'components.home.youtube' %}
{% endblock %}
```

**Method 3: Hybrid Approach (Recommended for Tharaa)**
```twig
{# src/views/pages/index.twig #}
{% extends "layouts.master" %}

{% block content %}
  {# Custom Hero Banner (Tharaa specific) #}
  {% include 'components.home.hero-banner' %}
  
  {# Featured Categories (Tharaa custom component) #}
  {% include 'components.home.featured-categories' %}
  
  {# Salla Pre-defined Features #}
  {% component 'home' %}
  
  {# Custom Testimonials (Tharaa luxury style) #}
  {% include 'components.home.testimonials' %}
{% endblock %}
```

---

## 3. twilight.json Configuration - Complete Guide

The `twilight.json` file is the heart of your Salla theme configuration. It defines theme metadata, settings, features, and custom components.

### 3.1 File Structure Overview

```json
{
  "version": "2.0.0",
  "theme_name": "Tharaa",
  "repo_url": "https://github.com/your-username/tharaa-theme",
  "support_url": "https://tharaa-support.com",
  
  "settings": [
    // Theme settings (colors, fonts, layouts)
  ],
  
  "features": [
    // Theme Features (pre-defined components)
  ],
  
  "components": [
    // Custom Components (your own creations)
  ]
}
```

### 3.2 Author Settings

```json
{
  "version": "2.0.0",
  "theme_name": "Tharaa",
  "repo_url": "https://github.com/your-username/tharaa-theme",
  "support_url": "https://tharaa-support.com"
}
```

**Fields:**
- `version` - Theme version (semantic versioning)
- `theme_name` - Display name
- `repo_url` - GitHub repository URL
- `support_url` - Support/documentation URL

---

### 3.3 Theme Settings (Complete Structure)

Theme settings allow merchants to customize colors, fonts, layouts, and other visual aspects without coding.

#### 3.3.1 Colors Settings

```json
{
  "settings": [
    {
      "key": "colors",
      "type": "collection",
      "label": "ÿßŸÑÿ£ŸÑŸàÿßŸÜ",
      "label_en": "Colors",
      "fields": [
        {
          "key": "primary_color",
          "type": "color",
          "label": "ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä",
          "label_en": "Primary Color",
          "default": "#1a1a1a",
          "hint": "ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ŸÑŸÑÿ´ŸäŸÖ"
        },
        {
          "key": "secondary_color",
          "type": "color",
          "label": "ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ´ÿßŸÜŸàŸä",
          "label_en": "Secondary Color",
          "default": "#d4af37",
          "hint": "ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ∞Ÿáÿ®Ÿä ŸÑŸÑÿπŸÜÿßÿµÿ± ÿßŸÑŸÖŸÖŸäÿ≤ÿ©"
        },
        {
          "key": "accent_color",
          "type": "color",
          "label": "ŸÑŸàŸÜ ÿßŸÑÿ™ÿ£ŸÉŸäÿØ",
          "label_en": "Accent Color",
          "default": "#8b7355"
        },
        {
          "key": "text_color",
          "type": "color",
          "label": "ŸÑŸàŸÜ ÿßŸÑŸÜÿµ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä",
          "label_en": "Text Color",
          "default": "#2c2c2c"
        },
        {
          "key": "text_light",
          "type": "color",
          "label": "ŸÑŸàŸÜ ÿßŸÑŸÜÿµ ÿßŸÑÿ´ÿßŸÜŸàŸä",
          "label_en": "Light Text Color",
          "default": "#6b6b6b"
        },
        {
          "key": "bg_light",
          "type": "color",
          "label": "ÿÆŸÑŸÅŸäÿ© ŸÅÿßÿ™ÿ≠ÿ©",
          "label_en": "Light Background",
          "default": "#fafafa"
        },
        {
          "key": "border_color",
          "type": "color",
          "label": "ŸÑŸàŸÜ ÿßŸÑÿ≠ÿØŸàÿØ",
          "label_en": "Border Color",
          "default": "#e5e5e5"
        }
      ]
    }
  ]
}
```

**Usage in Twig:**
```twig
<style>
:root {
  --tharaa-primary: {{ theme.settings.get('colors.primary_color', '#1a1a1a') }};
  --tharaa-secondary: {{ theme.settings.get('colors.secondary_color', '#d4af37') }};
  --tharaa-accent: {{ theme.settings.get('colors.accent_color', '#8b7355') }};
}
</style>
```

---

#### 3.3.2 Typography Settings

```json
{
  "settings": [
    {
      "key": "typography",
      "type": "collection",
      "label": "ÿßŸÑÿÆÿ∑Ÿàÿ∑",
      "label_en": "Typography",
      "fields": [
        {
          "key": "font_body",
          "type": "list",
          "label": "ÿÆÿ∑ ÿßŸÑŸÜÿµŸàÿµ",
          "label_en": "Body Font",
          "options": [
            "Almarai",
            "Cairo",
            "Tajawal",
            "IBM Plex Sans Arabic",
            "Noto Sans Arabic",
            "Harmattan",
            "Markazi Text"
          ],
          "default": "Almarai"
        },
        {
          "key": "font_headings",
          "type": "list",
          "label": "ÿÆÿ∑ ÿßŸÑÿπŸÜÿßŸàŸäŸÜ",
          "label_en": "Headings Font",
          "options": [
            "Almarai",
            "Cairo",
            "Tajawal",
            "Playfair Display",
            "Libre Baskerville",
            "Lora"
          ],
          "default": "Playfair Display"
        },
        {
          "key": "font_size_base",
          "type": "number",
          "label": "ÿ≠ÿ¨ŸÖ ÿßŸÑÿÆÿ∑ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä",
          "label_en": "Base Font Size",
          "default": 16,
          "min": 14,
          "max": 20,
          "unit": "px"
        },
        {
          "key": "line_height",
          "type": "number",
          "label": "ÿßÿ±ÿ™ŸÅÿßÿπ ÿßŸÑÿ≥ÿ∑ÿ±",
          "label_en": "Line Height",
          "default": 1.6,
          "min": 1.2,
          "max": 2.0,
          "step": 0.1
        }
      ]
    }
  ]
}
```

---

#### 3.3.3 Layout Settings

```json
{
  "settings": [
    {
      "key": "layout",
      "type": "collection",
      "label": "ÿßŸÑÿ™ÿÆÿ∑Ÿäÿ∑",
      "label_en": "Layout",
      "fields": [
        {
          "key": "container_width",
          "type": "list",
          "label": "ÿπÿ±ÿ∂ ÿßŸÑÿ≠ÿßŸàŸäÿ©",
          "label_en": "Container Width",
          "options": [
            "1200px",
            "1320px",
            "1400px",
            "full"
          ],
          "default": "1320px"
        },
        {
          "key": "header_style",
          "type": "list",
          "label": "ŸÜŸÖÿ∑ ÿßŸÑŸáŸäÿØÿ±",
          "label_en": "Header Style",
          "options": [
            "minimal",
            "elegant",
            "bold",
            "classic"
          ],
          "default": "elegant",
          "hint": "ÿßÿÆÿ™ÿ± ÿ™ÿµŸÖŸäŸÖ ÿßŸÑŸáŸäÿØÿ± ÿßŸÑŸÖŸÜÿßÿ≥ÿ®"
        },
        {
          "key": "header_sticky",
          "type": "boolean",
          "label": "ŸáŸäÿØÿ± ÿ´ÿßÿ®ÿ™",
          "label_en": "Sticky Header",
          "default": true,
          "hint": "ÿ¨ÿπŸÑ ÿßŸÑŸáŸäÿØÿ± Ÿäÿ®ŸÇŸâ ÿ∏ÿßŸáÿ±ÿßŸã ÿπŸÜÿØ ÿßŸÑÿ™ŸÖÿ±Ÿäÿ±"
        },
        {
          "key": "product_card_style",
          "type": "list",
          "label": "ŸÜŸÖÿ∑ ÿ®ÿ∑ÿßŸÇÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨",
          "label_en": "Product Card Style",
          "options": [
            "modern",
            "classic",
            "luxury",
            "minimal"
          ],
          "default": "luxury"
        },
        {
          "key": "product_card_hover",
          "type": "list",
          "label": "ÿ™ÿ£ÿ´Ÿäÿ± Hover ŸÑŸÑŸÖŸÜÿ™ÿ¨",
          "label_en": "Product Card Hover",
          "options": [
            "none",
            "lift",
            "zoom",
            "fade"
          ],
          "default": "lift"
        },
        {
          "key": "show_breadcrumbs",
          "type": "boolean",
          "label": "ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑÿ™ŸÜŸÇŸÑ",
          "label_en": "Show Breadcrumbs",
          "default": true
        },
        {
          "key": "products_per_row",
          "type": "number",
          "label": "ÿπÿØÿØ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÅŸä ÿßŸÑÿµŸÅ",
          "label_en": "Products Per Row",
          "default": 4,
          "min": 2,
          "max": 6
        }
      ]
    }
  ]
}
```

---

#### 3.3.4 Effects & Animations

```json
{
  "settings": [
    {
      "key": "effects",
      "type": "collection",
      "label": "ÿßŸÑÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ ŸàÿßŸÑÿ≠ÿ±ŸÉÿßÿ™",
      "label_en": "Effects & Animations",
      "fields": [
        {
          "key": "enable_animations",
          "type": "boolean",
          "label": "ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ≠ÿ±ŸÉÿßÿ™",
          "label_en": "Enable Animations",
          "default": true
        },
        {
          "key": "animation_speed",
          "type": "list",
          "label": "ÿ≥ÿ±ÿπÿ© ÿßŸÑÿ≠ÿ±ŸÉÿßÿ™",
          "label_en": "Animation Speed",
          "options": [
            "fast",
            "normal",
            "slow"
          ],
          "default": "normal"
        },
        {
          "key": "hover_effects",
          "type": "boolean",
          "label": "ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ Hover",
          "label_en": "Hover Effects",
          "default": true
        },
        {
          "key": "page_transitions",
          "type": "boolean",
          "label": "ÿßŸÜÿ™ŸÇÿßŸÑÿßÿ™ ÿßŸÑÿµŸÅÿ≠ÿßÿ™",
          "label_en": "Page Transitions",
          "default": false
        }
      ]
    }
  ]
}
```

---

#### 3.3.5 Footer Settings

```json
{
  "settings": [
    {
      "key": "footer",
      "type": "collection",
      "label": "ÿßŸÑŸÅŸàÿ™ÿ±",
      "label_en": "Footer",
      "fields": [
        {
          "key": "footer_style",
          "type": "list",
          "label": "ŸÜŸÖÿ∑ ÿßŸÑŸÅŸàÿ™ÿ±",
          "label_en": "Footer Style",
          "options": [
            "classic",
            "modern",
            "minimal"
          ],
          "default": "modern"
        },
        {
          "key": "footer_bg_color",
          "type": "color",
          "label": "ŸÑŸàŸÜ ÿÆŸÑŸÅŸäÿ© ÿßŸÑŸÅŸàÿ™ÿ±",
          "label_en": "Footer Background",
          "default": "#1a1a1a"
        },
        {
          "key": "show_payment_methods",
          "type": "boolean",
          "label": "ÿ•ÿ∏Ÿáÿßÿ± ÿ∑ÿ±ŸÇ ÿßŸÑÿØŸÅÿπ",
          "label_en": "Show Payment Methods",
          "default": true
        },
        {
          "key": "show_social_links",
          "type": "boolean",
          "label": "ÿ•ÿ∏Ÿáÿßÿ± ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿ™ŸàÿßÿµŸÑ",
          "label_en": "Show Social Links",
          "default": true
        },
        {
          "key": "copyright_text",
          "type": "string",
          "label": "ŸÜÿµ ÿ≠ŸÇŸàŸÇ ÿßŸÑŸÖŸÑŸÉŸäÿ©",
          "label_en": "Copyright Text",
          "default": "¬© 2026 All rights reserved"
        }
      ]
    }
  ]
}
```

---

### 3.4 Field Types Reference

| Type | Description | Example Use |
|------|-------------|-------------|
| `color` | Color picker | Brand colors |
| `string` | Text input | Copyright text |
| `number` | Numeric input | Font size, spacing |
| `boolean` | True/False toggle | Enable/disable features |
| `list` | Dropdown selection | Font family, layout style |
| `image` | Image upload | Logo, favicon |
| `collection` | Group of fields | Colors, typography |

---

### 3.5 Theme Features Array

```json
{
  "features": [
    "component-featured-products",
    "component-fixed-banner",
    "component-fixed-products",
    "component-photos-slider",
    "component-products-slider",
    "component-parallax-background",
    "component-random-testimonials",
    "component-testimonials",
    "component-square-photos",
    "component-store-features",
    "component-youtube",
    "filters"
  ]
}
```

**Best Practice:**
- ‚úÖ Only include features your theme actually supports
- ‚úÖ Test each feature before including it
- ‚ùå Don't include all features by default

---

### 3.6 Custom Components

Custom components are unique features you create specifically for your theme.

```json
{
  "components": [
    {
      "name": "hero-banner",
      "label": "ÿ®ÿßŸÜÿ± ÿ±ÿ¶Ÿäÿ≥Ÿä ŸÅÿßÿÆÿ±",
      "label_en": "Luxury Hero Banner",
      "path": "home.hero-banner",
      "icon": "https://your-cdn.com/icons/hero.svg",
      "fields": [
        {
          "key": "title",
          "type": "string",
          "label": "ÿßŸÑÿπŸÜŸàÿßŸÜ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä",
          "label_en": "Main Title",
          "default": "ÿßŸÉÿ™ÿ¥ŸÅ ÿßŸÑŸÅÿÆÿßŸÖÿ©",
          "required": true
        },
        {
          "key": "subtitle",
          "type": "string",
          "label": "ÿßŸÑÿπŸÜŸàÿßŸÜ ÿßŸÑŸÅÿ±ÿπŸä",
          "label_en": "Subtitle",
          "default": ""
        },
        {
          "key": "background_image",
          "type": "image",
          "label": "ÿµŸàÿ±ÿ© ÿßŸÑÿÆŸÑŸÅŸäÿ©",
          "label_en": "Background Image",
          "required": true,
          "hint": "ÿßŸÑÿ≠ÿ¨ŸÖ ÿßŸÑŸÖŸàÿµŸâ ÿ®Ÿá: 1920x800 ÿ®ŸÉÿ≥ŸÑ"
        },
        {
          "key": "overlay_opacity",
          "type": "number",
          "label": "ÿ¥ŸÅÿßŸÅŸäÿ© ÿßŸÑÿ∑ÿ®ŸÇÿ©",
          "label_en": "Overlay Opacity",
          "default": 0.5,
          "min": 0,
          "max": 1,
          "step": 0.1
        },
        {
          "key": "cta_text",
          "type": "string",
          "label": "ŸÜÿµ ÿßŸÑÿ≤ÿ±",
          "label_en": "Button Text",
          "default": "ÿ™ÿ≥ŸàŸÇ ÿßŸÑÿ¢ŸÜ"
        },
        {
          "key": "cta_link",
          "type": "string",
          "label": "ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ≤ÿ±",
          "label_en": "Button Link",
          "default": "/products"
        },
        {
          "key": "text_position",
          "type": "list",
          "label": "ŸÖŸàÿ∂ÿπ ÿßŸÑŸÜÿµ",
          "label_en": "Text Position",
          "options": [
            "left",
            "center",
            "right"
          ],
          "default": "center"
        }
      ]
    },
    {
      "name": "featured-categories",
      "label": "ÿ£ŸÇÿ≥ÿßŸÖ ŸÖŸÖŸäÿ≤ÿ©",
      "label_en": "Featured Categories",
      "path": "home.featured-categories",
      "icon": "https://your-cdn.com/icons/categories.svg",
      "fields": [
        {
          "key": "title",
          "type": "string",
          "label": "ÿßŸÑÿπŸÜŸàÿßŸÜ",
          "label_en": "Title",
          "default": "ÿ™ÿ≥ŸàŸÇ ÿ≠ÿ≥ÿ® ÿßŸÑŸÇÿ≥ŸÖ"
        },
        {
          "key": "categories_count",
          "type": "number",
          "label": "ÿπÿØÿØ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ",
          "label_en": "Categories Count",
          "default": 6,
          "min": 3,
          "max": 12
        },
        {
          "key": "layout_style",
          "type": "list",
          "label": "ŸÜŸÖÿ∑ ÿßŸÑÿπÿ±ÿ∂",
          "label_en": "Layout Style",
          "options": [
            "grid",
            "slider",
            "masonry"
          ],
          "default": "grid"
        },
        {
          "key": "show_product_count",
          "type": "boolean",
          "label": "ÿ•ÿ∏Ÿáÿßÿ± ÿπÿØÿØ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™",
          "label_en": "Show Product Count",
          "default": true
        }
      ]
    },
    {
      "name": "luxury-slider",
      "label": "ÿ≥ŸÑÿßŸäÿØÿ± ŸÅÿßÿÆÿ±",
      "label_en": "Luxury Slider",
      "path": "home.luxury-slider",
      "icon": "https://your-cdn.com/icons/slider.svg",
      "fields": [
        {
          "key": "slides",
          "type": "collection",
          "label": "ÿßŸÑÿ¥ÿ±ÿßÿ¶ÿ≠",
          "label_en": "Slides",
          "fields": [
            {
              "key": "image",
              "type": "image",
              "label": "ÿßŸÑÿµŸàÿ±ÿ©",
              "label_en": "Image"
            },
            {
              "key": "title",
              "type": "string",
              "label": "ÿßŸÑÿπŸÜŸàÿßŸÜ",
              "label_en": "Title"
            },
            {
              "key": "description",
              "type": "string",
              "label": "ÿßŸÑŸàÿµŸÅ",
              "label_en": "Description"
            },
            {
              "key": "link",
              "type": "string",
              "label": "ÿßŸÑÿ±ÿßÿ®ÿ∑",
              "label_en": "Link"
            }
          ]
        },
        {
          "key": "autoplay",
          "type": "boolean",
          "label": "ÿ™ÿ¥ÿ∫ŸäŸÑ ÿ™ŸÑŸÇÿßÿ¶Ÿä",
          "label_en": "Autoplay",
          "default": true
        },
        {
          "key": "autoplay_speed",
          "type": "number",
          "label": "ÿ≥ÿ±ÿπÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä (ÿ´ÿßŸÜŸäÿ©)",
          "label_en": "Autoplay Speed (seconds)",
          "default": 5,
          "min": 2,
          "max": 10
        }
      ]
    }
  ]
}
```

---

### 3.7 Complete twilight.json Example for Tharaa Theme

```json
{
  "version": "2.0.0",
  "theme_name": "Tharaa - ÿ´ÿ±ÿßÿ°",
  "repo_url": "https://github.com/your-username/tharaa-theme",
  "support_url": "https://tharaa-theme.com/support",
  
  "settings": [
    {
      "key": "colors",
      "type": "collection",
      "label": "ÿßŸÑÿ£ŸÑŸàÿßŸÜ",
      "label_en": "Colors",
      "fields": [
        {
          "key": "primary_color",
          "type": "color",
          "label": "ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä",
          "label_en": "Primary Color",
          "default": "#1a1a1a"
        },
        {
          "key": "secondary_color",
          "type": "color",
          "label": "ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ´ÿßŸÜŸàŸä (ÿßŸÑÿ∞Ÿáÿ®Ÿä)",
          "label_en": "Secondary Color (Gold)",
          "default": "#d4af37"
        },
        {
          "key": "accent_color",
          "type": "color",
          "label": "ŸÑŸàŸÜ ÿßŸÑÿ™ÿ£ŸÉŸäÿØ",
          "label_en": "Accent Color",
          "default": "#8b7355"
        }
      ]
    },
    {
      "key": "typography",
      "type": "collection",
      "label": "ÿßŸÑÿÆÿ∑Ÿàÿ∑",
      "label_en": "Typography",
      "fields": [
        {
          "key": "font_body",
          "type": "list",
          "label": "ÿÆÿ∑ ÿßŸÑŸÜÿµŸàÿµ",
          "label_en": "Body Font",
          "options": ["Almarai", "Cairo", "Tajawal"],
          "default": "Almarai"
        },
        {
          "key": "font_headings",
          "type": "list",
          "label": "ÿÆÿ∑ ÿßŸÑÿπŸÜÿßŸàŸäŸÜ",
          "label_en": "Headings Font",
          "options": ["Playfair Display", "Libre Baskerville", "Almarai"],
          "default": "Playfair Display"
        }
      ]
    },
    {
      "key": "layout",
      "type": "collection",
      "label": "ÿßŸÑÿ™ÿÆÿ∑Ÿäÿ∑",
      "label_en": "Layout",
      "fields": [
        {
          "key": "header_style",
          "type": "list",
          "label": "ŸÜŸÖÿ∑ ÿßŸÑŸáŸäÿØÿ±",
          "label_en": "Header Style",
          "options": ["minimal", "elegant", "bold"],
          "default": "elegant"
        },
        {
          "key": "product_card_style",
          "type": "list",
          "label": "ŸÜŸÖÿ∑ ÿ®ÿ∑ÿßŸÇÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨",
          "label_en": "Product Card Style",
          "options": ["modern", "classic", "luxury"],
          "default": "luxury"
        },
        {
          "key": "enable_animations",
          "type": "boolean",
          "label": "ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ≠ÿ±ŸÉÿßÿ™",
          "label_en": "Enable Animations",
          "default": true
        }
      ]
    }
  ],
  
  "features": [
    "component-featured-products",
    "component-fixed-banner",
    "component-products-slider",
    "component-testimonials",
    "component-store-features",
    "filters"
  ],
  
  "components": [
    {
      "name": "hero-banner",
      "label": "ÿ®ÿßŸÜÿ± ÿ±ÿ¶Ÿäÿ≥Ÿä ŸÅÿßÿÆÿ±",
      "label_en": "Luxury Hero Banner",
      "path": "home.hero-banner",
      "icon": "https://cdn.tharaa-theme.com/icons/hero.svg",
      "fields": [
        {
          "key": "title",
          "type": "string",
          "label": "ÿßŸÑÿπŸÜŸàÿßŸÜ",
          "label_en": "Title",
          "default": "ÿßŸÉÿ™ÿ¥ŸÅ ÿßŸÑŸÅÿÆÿßŸÖÿ©"
        },
        {
          "key": "background_image",
          "type": "image",
          "label": "ÿµŸàÿ±ÿ© ÿßŸÑÿÆŸÑŸÅŸäÿ©",
          "label_en": "Background Image"
        },
        {
          "key": "cta_text",
          "type": "string",
          "label": "ŸÜÿµ ÿßŸÑÿ≤ÿ±",
          "label_en": "Button Text",
          "default": "ÿ™ÿ≥ŸàŸÇ ÿßŸÑÿ¢ŸÜ"
        },
        {
          "key": "cta_link",
          "type": "string",
          "label": "ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ≤ÿ±",
          "label_en": "Button Link"
        }
      ]
    },
    {
      "name": "featured-categories",
      "label": "ÿ£ŸÇÿ≥ÿßŸÖ ŸÖŸÖŸäÿ≤ÿ©",
      "label_en": "Featured Categories",
      "path": "home.featured-categories",
      "icon": "https://cdn.tharaa-theme.com/icons/categories.svg",
      "fields": [
        {
          "key": "categories_count",
          "type": "number",
          "label": "ÿπÿØÿØ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ",
          "label_en": "Number of Categories",
          "default": 6,
          "min": 3,
          "max": 12
        }
      ]
    }
  ]
}
```

---

## 4. Layouts and Pages Architecture

Understanding page structure is essential for building a complete Salla theme.

### 4.1 Master Layout

**Location:** `/src/views/layouts/master.twig`

This is the main template that all pages extend.

**Complete Example:**
```twig
<!DOCTYPE html>
<html lang="{{ user.language.code }}" dir="{{ user.language.dir }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  {# SEO Meta Tags - REQUIRED Hook #}
  {% hook 'head:start' %}
  
  <title>{{ page.title }} - {{ store.name }}</title>
  
  {# Additional Meta Tags - REQUIRED Hook #}
  {% hook 'head' %}
  
  {# Custom Fonts #}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  
  {# Theme CSS #}
  <link rel="stylesheet" href="{{ 'app.css' | asset }}">
  
  {# Theme Settings CSS Variables #}
  <style>
    :root {
      --tharaa-primary: {{ theme.settings.get('colors.primary_color', '#1a1a1a') }};
      --tharaa-secondary: {{ theme.settings.get('colors.secondary_color', '#d4af37') }};
      --tharaa-accent: {{ theme.settings.get('colors.accent_color', '#8b7355') }};
      --tharaa-font-body: {{ theme.settings.get('typography.font_body', 'Almarai') }};
      --tharaa-font-heading: {{ theme.settings.get('typography.font_headings', 'Playfair Display') }};
    }
  </style>
  
  {% hook 'head:end' %}
</head>
<body class="tharaa-theme {{ page.slug }}">
  
  {% hook 'body:start' %}
  
  {# Header Component #}
  <header class="tharaa-header 
    {% if theme.settings.get('layout.header_sticky') %}tharaa-header--sticky{% endif %}">
    {% component 'header' %}
  </header>
  
  {# Main Content #}
  <main class="tharaa-main">
    {% block content %}{% endblock %}
  </main>
  
  {# Footer Component #}
  <footer class="tharaa-footer">
    {% component 'footer' %}
  </footer>
  
  {# Scripts #}
  <script src="{{ 'app.js' | asset }}" defer></script>
  
  {% block scripts %}{% endblock %}
  
  {# REQUIRED: Salla SDK Initialization #}
  {% hook 'body:end' %}
</body>
</html>
```

---

### 4.2 Essential Pages

#### 4.2.1 Home Page

**Location:** `/src/views/pages/index.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
  {# Custom Hero Banner #}
  {% include 'components.home.hero-banner' %}
  
  {# Featured Categories #}
  {% include 'components.home.featured-categories' %}
  
  {# Salla Theme Features #}
  {% component 'home' %}
  
  {# Testimonials #}
  {% include 'components.home.testimonials' %}
{% endblock %}

{% block scripts %}
  <script defer src="{{ 'home.js' | asset }}"></script>
{% endblock %}
```

---

#### 4.2.2 Product Listing Page

**Location:** `/src/views/pages/product/index.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  {# Breadcrumbs #}
  <salla-breadcrumb></salla-breadcrumb>
  
  {# Page Header #}
  <div class="tharaa-products-header">
    <h1>{{ page.title }}</h1>
    {% if category.description %}
      <p>{{ category.description }}</p>
    {% endif %}
  </div>
  
  <div class="tharaa-products-container">
    {# Filters Sidebar #}
    <aside class="tharaa-products-sidebar">
      <salla-filters></salla-filters>
    </aside>
    
    {# Products Grid #}
    <main class="tharaa-products-main">
      <div class="tharaa-products-toolbar">
        <span class="tharaa-products-count">
          {{ trans('products.showing_count', {count: products.total}) }}
        </span>
        
        {# Sort Dropdown #}
        <salla-select 
          name="sort"
          options='[
            {"value": "default", "label": "{{ trans('products.sort_default') }}"},
            {"value": "price-asc", "label": "{{ trans('products.sort_price_low') }}"},
            {"value": "price-desc", "label": "{{ trans('products.sort_price_high') }}"},
            {"value": "date-desc", "label": "{{ trans('products.sort_newest') }}"}
          ]'>
        </salla-select>
      </div>
      
      <div class="tharaa-products-grid">
        {% for product in products %}
          {% include 'components.product.card' with {product: product} %}
        {% endfor %}
      </div>
      
      {# Infinite Scroll #}
      {% if pagination.has_more_pages %}
      <salla-infinite-scroll 
        url="{{ pagination.next_page_url }}">
      </salla-infinite-scroll>
      {% endif %}
    </main>
  </div>
</div>
{% endblock %}
```

---

#### 4.2.3 Single Product Page

**Location:** `/src/views/pages/product/single.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <salla-breadcrumb></salla-breadcrumb>
  
  <div class="tharaa-product">
    {# Product Images #}
    <div class="tharaa-product__gallery">
      <salla-slider slides-to-show="1" dots="true">
        {% for image in product.images %}
        <div slot="slide">
          <img src="{{ image.url }}" alt="{{ product.name }}">
        </div>
        {% endfor %}
      </salla-slider>
    </div>
    
    {# Product Info #}
    <div class="tharaa-product__info">
      <h1 class="tharaa-product__title">{{ product.name }}</h1>
      
      {# Rating #}
      {% if product.rating %}
      <div class="tharaa-product__rating">
        <salla-rating-stars 
          rating="{{ product.rating }}"
          count="{{ product.reviews_count }}">
        </salla-rating-stars>
      </div>
      {% endif %}
      
      {# Price #}
      <div class="tharaa-product__price">
        {% if product.is_on_sale %}
          <span class="tharaa-price tharaa-price--sale">{{ product.price|money }}</span>
          <span class="tharaa-price tharaa-price--original">{{ product.regular_price|money }}</span>
        {% else %}
          <span class="tharaa-price">{{ product.price|money }}</span>
        {% endif %}
      </div>
      
      {# Options #}
      {% if product.has_options %}
      <div class="tharaa-product__options">
        {% hook 'product:single.form.start' %}
        
        <salla-product-options 
          product-id="{{ product.id }}"
          options='{{ product.options|json_encode }}'>
        </salla-product-options>
        
        {% hook 'product:single.form.end' %}
      </div>
      {% endif %}
      
      {# Quantity #}
      <div class="tharaa-product__quantity">
        <label>{{ trans('products.quantity') }}</label>
        <salla-quantity-input 
          value="1"
          min="1"
          max="{{ product.max_quantity }}">
        </salla-quantity-input>
      </div>
      
      {# Add to Cart #}
      <div class="tharaa-product__actions">
        <salla-add-product-button 
          class="tharaa-btn tharaa-btn--luxury tharaa-btn--large"
          product-id="{{ product.id }}"
          product-status="sale">
        </salla-add-product-button>
        
        <button class="tharaa-btn tharaa-btn--outline" 
                salla-wishlist 
                data-id="{{ product.id }}">
          <i class="sicon-heart"></i>
        </button>
      </div>
      
      {# Installment #}
      {% if product.has_installment %}
      <salla-installment 
        product-id="{{ product.id }}"
        price="{{ product.price }}">
      </salla-installment>
      {% endif %}
      
      {# Description #}
      <div class="tharaa-product__description">
        {% hook 'product:single.description.start' %}
        {{ product.description|raw }}
        {% hook 'product:single.description.end' %}
      </div>
      
      {# Share #}
      <salla-social-share 
        url="{{ product.url }}"
        title="{{ product.name }}">
      </salla-social-share>
    </div>
  </div>
  
  {# Reviews #}
  <div class="tharaa-product-reviews">
    <salla-reviews 
      product-id="{{ product.id }}"
      per-page="10">
    </salla-reviews>
  </div>
</div>
{% endblock %}
```

---

#### 4.2.4 Cart Page

**Location:** `/src/views/pages/cart.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <h1>{{ trans('cart.title') }}</h1>
  
  {% if cart.items_count > 0 %}
  <div class="tharaa-cart-container">
    {# Cart Items #}
    <div class="tharaa-cart-items">
      {% for item in cart.items %}
      <div class="tharaa-cart-item">
        <img src="{{ item.product.image }}" alt="{{ item.product.name }}">
        
        <div class="tharaa-cart-item__info">
          <h3>{{ item.product.name }}</h3>
          {% if item.options %}
          <div class="tharaa-cart-item__options">
            {% for option in item.options %}
              <span>{{ option.name }}: {{ option.value }}</span>
            {% endfor %}
          </div>
          {% endif %}
        </div>
        
        <salla-quantity-input 
          value="{{ item.quantity }}"
          data-item-id="{{ item.id }}">
        </salla-quantity-input>
        
        <div class="tharaa-cart-item__price">
          {{ item.total|money }}
        </div>
        
        <button class="tharaa-btn-remove" 
                salla-remove-from-cart
                data-id="{{ item.id }}">
          <i class="sicon-cancel"></i>
        </button>
      </div>
      {% endfor %}
    </div>
    
    {# Cart Summary #}
    <aside class="tharaa-cart-summary">
      <h3>{{ trans('cart.summary') }}</h3>
      
      <div class="tharaa-cart-summary__line">
        <span>{{ trans('cart.subtotal') }}</span>
        <strong>{{ cart.sub_total|money }}</strong>
      </div>
      
      {% if cart.discount_amount > 0 %}
      <div class="tharaa-cart-summary__line tharaa-cart-summary__discount">
        <span>{{ trans('cart.discount') }}</span>
        <strong>-{{ cart.discount_amount|money }}</strong>
      </div>
      {% endif %}
      
      <div class="tharaa-cart-summary__line tharaa-cart-summary__total">
        <span>{{ trans('cart.total') }}</span>
        <strong>{{ cart.total|money }}</strong>
      </div>
      
      <a href="{{ url('checkout') }}" class="tharaa-btn tharaa-btn--luxury tharaa-btn--full">
        {{ trans('cart.checkout') }}
      </a>
    </aside>
  </div>
  {% else %}
  <div class="tharaa-cart-empty">
    <i class="sicon-shopping-bag"></i>
    <h2>{{ trans('cart.empty') }}</h2>
    <a href="{{ url('products') }}" class="tharaa-btn tharaa-btn--luxury">
      {{ trans('cart.continue_shopping') }}
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}
```

---

#### 4.2.5 Customer Profile

**Location:** `/src/views/pages/customer/profile.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <div class="tharaa-account-container">
    {# Sidebar Menu #}
    <aside class="tharaa-account-sidebar">
      <salla-user-menu></salla-user-menu>
    </aside>
    
    {# Profile Content #}
    <main class="tharaa-account-main">
      <h1>{{ trans('customer.profile') }}</h1>
      
      <form class="tharaa-form" salla-form-profile>
        <div class="tharaa-form-group">
          <label>{{ trans('customer.first_name') }}</label>
          <input type="text" name="first_name" value="{{ user.first_name }}">
        </div>
        
        <div class="tharaa-form-group">
          <label>{{ trans('customer.last_name') }}</label>
          <input type="text" name="last_name" value="{{ user.last_name }}">
        </div>
        
        <div class="tharaa-form-group">
          <label>{{ trans('customer.email') }}</label>
          <input type="email" name="email" value="{{ user.email }}">
        </div>
        
        <div class="tharaa-form-group">
          <label>{{ trans('customer.mobile') }}</label>
          <salla-tel-input 
            mobile="{{ user.mobile }}"
            country-code="{{ user.country_code }}">
          </salla-tel-input>
        </div>
        
        <button type="submit" class="tharaa-btn tharaa-btn--luxury">
          {{ trans('customer.save_changes') }}
        </button>
      </form>
    </main>
  </div>
</div>
{% endblock %}
```

---

#### 4.2.6 Orders List

**Location:** `/src/views/pages/customer/orders/index.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <div class="tharaa-account-container">
    <aside class="tharaa-account-sidebar">
      <salla-user-menu></salla-user-menu>
    </aside>
    
    <main class="tharaa-account-main">
      <h1>{{ trans('customer.orders') }}</h1>
      
      {% if orders %}
      <div class="tharaa-orders-list">
        {% for order in orders %}
        <div class="tharaa-order-card">
          <div class="tharaa-order-card__header">
            <strong>{{ trans('customer.order_number') }}: #{{ order.id }}</strong>
            <span class="tharaa-order-status tharaa-order-status--{{ order.status }}">
              {{ order.status_name }}
            </span>
          </div>
          
          <div class="tharaa-order-card__details">
            <div>
              <span>{{ trans('customer.order_date') }}:</span>
              <strong>{{ order.date }}</strong>
            </div>
            <div>
              <span>{{ trans('customer.total') }}:</span>
              <strong>{{ order.total|money }}</strong>
            </div>
          </div>
          
          <div class="tharaa-order-card__actions">
            <a href="{{ url('customer.orders.single', {id: order.id}) }}" 
               class="tharaa-btn tharaa-btn--outline">
              {{ trans('customer.view_details') }}
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <div class="tharaa-empty-state">
        <i class="sicon-inbox"></i>
        <p>{{ trans('customer.no_orders') }}</p>
      </div>
      {% endif %}
    </main>
  </div>
</div>
{% endblock %}
```

---

#### 4.2.7 Wishlist

**Location:** `/src/views/pages/customer/wishlist.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <h1>{{ trans('customer.wishlist') }}</h1>
  
  {% if wishlist.items %}
  <div class="tharaa-products-grid">
    {% for product in wishlist.items %}
      {% include 'components.product.card' with {product: product} %}
    {% endfor %}
  </div>
  {% else %}
  <div class="tharaa-empty-state">
    <i class="sicon-heart"></i>
    <p>{{ trans('customer.wishlist_empty') }}</p>
    <a href="{{ url('products') }}" class="tharaa-btn tharaa-btn--luxury">
      {{ trans('customer.start_shopping') }}
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}
```

---

#### 4.2.8 Blog Pages

**Blog Listing - Location:** `/src/views/pages/blog/index.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <h1>{{ trans('blog.title') }}</h1>
  
  <div class="tharaa-blog-grid">
    {% for post in posts %}
    <article class="tharaa-blog-card">
      {% if post.image %}
      <a href="{{ post.url }}" class="tharaa-blog-card__image">
        <img src="{{ post.image }}" alt="{{ post.title }}">
      </a>
      {% endif %}
      
      <div class="tharaa-blog-card__content">
        <div class="tharaa-blog-card__meta">
          <time>{{ post.date }}</time>
          {% if post.category %}
          <span class="tharaa-blog-category">{{ post.category }}</span>
          {% endif %}
        </div>
        
        <h2 class="tharaa-blog-card__title">
          <a href="{{ post.url }}">{{ post.title }}</a>
        </h2>
        
        <p class="tharaa-blog-card__excerpt">
          {{ post.excerpt }}
        </p>
        
        <a href="{{ post.url }}" class="tharaa-btn tharaa-btn--outline">
          {{ trans('blog.read_more') }}
        </a>
      </div>
    </article>
    {% endfor %}
  </div>
</div>
{% endblock %}
```

**Single Blog Post - Location:** `/src/views/pages/blog/single.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <article class="tharaa-blog-post">
    {% if blog.image %}
    <div class="tharaa-blog-post__image">
      <img src="{{ blog.image }}" alt="{{ blog.title }}">
    </div>
    {% endif %}
    
    <header class="tharaa-blog-post__header">
      <h1>{{ blog.title }}</h1>
      <div class="tharaa-blog-post__meta">
        <time>{{ blog.date }}</time>
        <span>{{ trans('blog.by') }} {{ blog.author }}</span>
      </div>
    </header>
    
    <div class="tharaa-blog-post__content">
      {{ blog.content|raw }}
    </div>
    
    <footer class="tharaa-blog-post__footer">
      <salla-social-share 
        url="{{ blog.url }}"
        title="{{ blog.title }}">
      </salla-social-share>
    </footer>
  </article>
  
  {# Comments #}
  <salla-comments 
    resource-type="blog"
    resource-id="{{ blog.id }}">
  </salla-comments>
</div>
{% endblock %}
```

---

#### 4.2.9 Thank You Page

**Location:** `/src/views/pages/thank-you.twig`

```twig
{% extends "layouts.master" %}

{% block content %}
<div class="container">
  <div class="tharaa-thank-you">
    <div class="tharaa-thank-you__icon">
      <i class="sicon-check-circle"></i>
    </div>
    
    <h1>{{ trans('orders.thank_you_title') }}</h1>
    <p>{{ trans('orders.thank_you_message') }}</p>
    
    <div class="tharaa-thank-you__order">
      <strong>{{ trans('orders.order_number') }}:</strong>
      <span>#{{ order.id }}</span>
    </div>
    
    <div class="tharaa-thank-you__actions">
      <a href="{{ url('customer.orders.single', {id: order.id}) }}" 
         class="tharaa-btn tharaa-btn--luxury">
        {{ trans('orders.view_order') }}
      </a>
      
      <a href="{{ url('products') }}" 
         class="tharaa-btn tharaa-btn--outline">
        {{ trans('orders.continue_shopping') }}
      </a>
    </div>
  </div>
</div>
{% endblock %}
```

---

### 4.3 Pages Summary Table

| Page | Location | Purpose | Required |
|------|----------|---------|----------|
| Home | `/pages/index.twig` | Landing page | ‚úÖ Yes |
| Product Listing | `/pages/product/index.twig` | Category/search results | ‚úÖ Yes |
| Single Product | `/pages/product/single.twig` | Product details | ‚úÖ Yes |
| Cart | `/pages/cart.twig` | Shopping cart | ‚úÖ Yes |
| Thank You | `/pages/thank-you.twig` | Order confirmation | ‚úÖ Yes |
| Profile | `/pages/customer/profile.twig` | User profile | ‚úÖ Yes |
| Orders List | `/pages/customer/orders/index.twig` | Order history | ‚úÖ Yes |
| Order Details | `/pages/customer/orders/single.twig` | Single order view | ‚úÖ Yes |
| Wishlist | `/pages/customer/wishlist.twig` | Saved products | ‚úÖ Yes |
| Blog List | `/pages/blog/index.twig` | Blog listing | ‚ö†Ô∏è If enabled |
| Blog Single | `/pages/blog/single.twig` | Blog post | ‚ö†Ô∏è If enabled |
| Brands List | `/pages/brands/index.twig` | Brand directory | ‚ö†Ô∏è If enabled |
| Brand Single | `/pages/brands/single.twig` | Brand products | ‚ö†Ô∏è If enabled |
| Page Single | `/pages/page-single.twig` | Static pages | ‚úÖ Yes |
| 404 | Auto-generated | Not found page | ‚úÖ Yes |

---

## 5. Best Practices for Theme Development

### 5.1 Hooks - Complete Reference

Hooks are Twig tags that allow Salla to inject content into your theme.

#### 5.1.1 Head Hooks

**Required in `<head>` section:**

```twig
<head>
  {# 1. REQUIRED: SEO & Meta Data Start #}
  {% hook 'head:start' %}
  
  {# Your custom meta tags #}
  <title>{{ page.title }} - {{ store.name }}</title>
  
  {# 2. REQUIRED: Additional Meta Tags #}
  {% hook 'head' %}
  
  {# Your stylesheets #}
  <link rel="stylesheet" href="{{ 'app.css' | asset }}">
  
  {# 3. REQUIRED: Before closing </head> #}
  {% hook 'head:end' %}
</head>
```

**What each hook does:**
- `head:start` - Injects critical SEO meta tags, Open Graph, Twitter Cards
- `head` - Injects additional meta data, canonical URLs
- `head:end` - Injects tracking scripts, analytics (Google Analytics, Facebook Pixel)

---

#### 5.1.2 Body Hooks

**Required in `<body>` section:**

```twig
<body>
  {# 1. REQUIRED: Body Start - Tracking pixels #}
  {% hook 'body:start' %}
  
  {# Your theme content #}
  <header>...</header>
  <main>...</main>
  <footer>...</footer>
  
  {# Your scripts #}
  <script src="{{ 'app.js' | asset }}"></script>
  
  {# 2. REQUIRED: Body End - Salla SDK Initialization #}
  {% hook 'body:end' %}
</body>
```

**What each hook does:**
- `body:start` - Injects tracking pixels (Google Tag Manager, Facebook Pixel top code)
- `body:end` - **CRITICAL** - Initializes Salla SDK (calls `salla.init()` automatically)

‚ö†Ô∏è **IMPORTANT:** Without `{% hook 'body:end' %}`, Salla SDK will NOT work!

---

#### 5.1.3 Product Page Hooks

```twig
{# Product Form Hooks #}
{% hook 'product:single.form.start' %}
  {# Product options here #}
  <salla-product-options></salla-product-options>
{% hook 'product:single.form.end' %}

{# Product Description Hooks #}
{% hook 'product:single.description.start' %}
  {{ product.description|raw }}
{% hook 'product:single.description.end' %}

{# Extra Services/Offers #}
{% hook 'product:single.extra_services' %}
```

---

### 5.2 Folder Structure Best Practices

**Recommended Structure for Tharaa:**

```
tharaa-theme/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logo/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ icons/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ placeholders/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 00-settings/       # Variables, tokens
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 01-tools/          # Mixins, functions
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 02-base/           # Reset, global
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 03-components/     # Buttons, cards
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 04-sections/       # Hero, products grid
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 05-pages/          # Page-specific styles
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ home.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ product.js
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ modules/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ cart.js
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ animations.js
‚îÇ   ‚îú‚îÄ‚îÄ locales/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ar.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ en.json
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ       ‚îú‚îÄ‚îÄ layouts/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ master.twig
‚îÇ       ‚îú‚îÄ‚îÄ pages/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ index.twig
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ cart.twig
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ product/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.twig
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ single.twig
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ customer/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.twig
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wishlist.twig
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ orders/
‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.twig
‚îÇ       ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ single.twig
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ blog/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ index.twig
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ single.twig
‚îÇ       ‚îî‚îÄ‚îÄ components/
‚îÇ           ‚îú‚îÄ‚îÄ header/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ header.twig
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ nav.twig
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ search.twig
‚îÇ           ‚îú‚îÄ‚îÄ footer/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ footer.twig
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ links.twig
‚îÇ           ‚îú‚îÄ‚îÄ home/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ hero-banner.twig          # Custom
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ featured-categories.twig  # Custom
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ featured-products.twig    # Salla Feature
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ testimonials.twig
‚îÇ           ‚îî‚îÄ‚îÄ product/
‚îÇ               ‚îú‚îÄ‚îÄ card.twig
‚îÇ               ‚îú‚îÄ‚îÄ card-full-image.twig
‚îÇ               ‚îî‚îÄ‚îÄ options.twig
‚îú‚îÄ‚îÄ twilight.json
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ webpack.config.js
```

---

### 5.3 Customization Strategies

#### 5.3.1 Merchant-Friendly Settings

**Goal:** Allow merchants to customize without code

**Example: Color Picker Integration**

twilight.json:
```json
{
  "settings": [
    {
      "key": "colors",
      "type": "collection",
      "fields": [
        {"key": "primary_color", "type": "color", "default": "#1a1a1a"},
        {"key": "secondary_color", "type": "color", "default": "#d4af37"}
      ]
    }
  ]
}
```

master.twig:
```twig
<style>
:root {
  --tharaa-primary: {{ theme.settings.get('colors.primary_color', '#1a1a1a') }};
  --tharaa-secondary: {{ theme.settings.get('colors.secondary_color', '#d4af37') }};
}
</style>
```

CSS:
```scss
.tharaa-btn--luxury {
  background: var(--tharaa-primary);
  color: var(--tharaa-secondary);
}
```

---

#### 5.3.2 Layout Switcher

**Allow merchants to choose different layouts:**

twilight.json:
```json
{
  "settings": [
    {
      "key": "layout",
      "type": "collection",
      "fields": [
        {
          "key": "product_card_style",
          "type": "list",
          "options": ["modern", "classic", "luxury"],
          "default": "luxury"
        }
      ]
    }
  ]
}
```

Product Card Component:
```twig
{# components/product/card.twig #}
{% set card_style = theme.settings.get('layout.product_card_style', 'luxury') %}

<div class="s-product-card tharaa-product tharaa-product--{{ card_style }}">
  {# Card content #}
</div>
```

CSS:
```scss
.tharaa-product {
  // Base styles
  
  &--modern {
    // Modern style
  }
  
  &--classic {
    // Classic style
  }
  
  &--luxury {
    // Luxury style (default for Tharaa)
  }
}
```

---

#### 5.3.3 Feature Toggles

**Enable/Disable Features:**

twilight.json:
```json
{
  "settings": [
    {
      "key": "effects",
      "type": "collection",
      "fields": [
        {
          "key": "enable_animations",
          "type": "boolean",
          "default": true
        },
        {
          "key": "sticky_header",
          "type": "boolean",
          "default": true
        }
      ]
    }
  ]
}
```

master.twig:
```twig
<header class="tharaa-header
  {% if theme.settings.get('effects.sticky_header') %}tharaa-header--sticky{% endif %}">
  {% component 'header' %}
</header>
```

CSS:
```scss
.tharaa-header {
  &--sticky {
    position: sticky;
    top: 0;
    z-index: 100;
  }
}
```

---

### 5.4 Combining Multiple Components

**Example: Advanced Product Grid with Features**

```twig
{# Product Listing Page #}
<div class="container">
  {# Breadcrumbs #}
  <salla-breadcrumb></salla-breadcrumb>
  
  {# Filters + Products #}
  <div class="tharaa-products-container">
    {# Sidebar Filters #}
    <aside class="tharaa-sidebar">
      <salla-filters></salla-filters>
    </aside>
    
    {# Products Grid #}
    <main class="tharaa-main">
      <div class="tharaa-products-grid">
        {% for product in products %}
          <div class="s-product-card tharaa-product">
            {# Product Image #}
            <div class="tharaa-product__image">
              <a href="{{ product.url }}">
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
              </a>
              
              {# Quick Actions #}
              <div class="tharaa-product__actions">
                <button salla-wishlist data-id="{{ product.id }}">
                  <i class="sicon-heart"></i>
                </button>
              </div>
            </div>
            
            {# Product Info #}
            <div class="tharaa-product__info">
              <h3>
                <a href="{{ product.url }}">{{ product.name }}</a>
              </h3>
              
              {# Rating #}
              {% if product.rating %}
              <salla-rating-stars 
                rating="{{ product.rating }}"
                count="{{ product.reviews_count }}">
              </salla-rating-stars>
              {% endif %}
              
              {# Price #}
              <div class="tharaa-product__price">
                {% if product.is_on_sale %}
                  <span class="tharaa-price--sale">{{ product.price|money }}</span>
                  <span class="tharaa-price--original">{{ product.regular_price|money }}</span>
                {% else %}
                  <span class="tharaa-price">{{ product.price|money }}</span>
                {% endif %}
              </div>
              
              {# Add to Cart #}
              <salla-add-product-button 
                class="tharaa-btn tharaa-btn--luxury"
                product-id="{{ product.id }}"
                product-status="sale">
              </salla-add-product-button>
            </div>
          </div>
        {% endfor %}
      </div>
      
      {# Infinite Scroll #}
      {% if pagination.has_more_pages %}
      <salla-infinite-scroll 
        url="{{ pagination.next_page_url }}">
        <salla-skeleton type="product-card" count="4"></salla-skeleton>
      </salla-infinite-scroll>
      {% endif %}
    </main>
  </div>
</div>
```

---

## 6. Advanced Topics and Tips

### 6.1 Performance Optimization

**1. Image Optimization:**
```twig
{# Use lazy loading #}
<img 
  src="{{ product.image.url }}" 
  loading="lazy"
  decoding="async"
  alt="{{ product.name }}">

{# Use responsive images #}
<img 
  srcset="{{ product.image.url }}?w=400 400w,
          {{ product.image.url }}?w=800 800w"
  sizes="(max-width: 768px) 100vw, 400px"
  src="{{ product.image.url }}"
  alt="{{ product.name }}">
```

**2. CSS Optimization:**
- Use CSS custom properties for theming
- Minimize CSS file size
- Use PurgeCSS in production

**3. JavaScript Optimization:**
- Code splitting (separate home.js, product.js)
- Defer non-critical scripts
- Use Salla SDK events instead of custom AJAX

---

### 6.2 SEO Best Practices

**1. Structured Data:**
```twig
{# Product Page - Schema.org #}
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Product",
  "name": "{{ product.name }}",
  "image": "{{ product.image.url }}",
  "description": "{{ product.description|striptags|slice(0, 155) }}",
  "sku": "{{ product.sku }}",
  "brand": {
    "@type": "Brand",
    "name": "{{ store.name }}"
  },
  "offers": {
    "@type": "Offer",
    "url": "{{ product.url }}",
    "priceCurrency": "SAR",
    "price": "{{ product.price }}",
    "availability": "{{ product.is_available ? 'https://schema.org/InStock' : 'https://schema.org/OutOfStock' }}"
  }
}
</script>
```

**2. Meta Tags:**
```twig
<meta name="description" content="{{ page.description|striptags|slice(0, 155) }}">
<meta property="og:title" content="{{ product.name }} - {{ store.name }}">
<meta property="og:description" content="{{ product.description|striptags|slice(0, 155) }}">
<meta property="og:image" content="{{ product.image.url }}">
<meta property="og:url" content="{{ product.url }}">
<meta name="twitter:card" content="summary_large_image">
```

---

### 6.3 Accessibility (A11y)

**1. Semantic HTML:**
```twig
<nav aria-label="ÿßŸÑÿ™ŸÜŸÇŸÑ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä">
  <ul>
    <li><a href="/">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</a></li>
    <li><a href="/products">ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™</a></li>
  </ul>
</nav>

<main aria-label="ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä">
  {# Page content #}
</main>
```

**2. ARIA Labels:**
```twig
<button 
  aria-label="ÿ£ÿ∂ŸÅ {{ product.name }} ŸÑŸÑÿ≥ŸÑÿ©"
  salla-add-product
  data-id="{{ product.id }}">
  ÿ£ÿ∂ŸÅ ŸÑŸÑÿ≥ŸÑÿ©
</button>

<input 
  type="search"
  aria-label="ÿßŸÑÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑŸÖÿ™ÿ¨ÿ±"
  placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÖŸÜÿ™ÿ¨ÿßÿ™...">
```

**3. Focus Management:**
```scss
.tharaa-btn:focus-visible {
  outline: 2px solid var(--tharaa-primary);
  outline-offset: 2px;
}

// Skip to main content link
.skip-to-main {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--tharaa-primary);
  color: white;
  padding: 8px;
  text-decoration: none;
  
  &:focus {
    top: 0;
  }
}
```

---

### 6.4 RTL/LTR Support

**Use logical properties:**
```scss
// ‚ùå Wrong
.element {
  margin-left: 20px;
  text-align: left;
}

// ‚úÖ Correct
.element {
  margin-inline-start: 20px;
  text-align: start;
}
```

**Or use direction-specific styles:**
```scss
.element {
  [dir="ltr"] & {
    margin-left: 20px;
  }
  
  [dir="rtl"] & {
    margin-right: 20px;
  }
}
```

---

### 6.5 Testing Checklist

**Before Publishing:**

- [ ] All required pages are present
- [ ] All Salla hooks are included
- [ ] Theme Features work correctly
- [ ] Custom Components work correctly
- [ ] Responsive design works (Mobile, Tablet, Desktop)
- [ ] RTL support is correct
- [ ] Browser compatibility (Chrome, Safari, Firefox, Edge)
- [ ] Performance: Lighthouse score > 80
- [ ] Accessibility: WCAG 2.1 Level AA
- [ ] SEO: Meta tags, structured data
- [ ] No console errors
- [ ] All links work
- [ ] Forms submit correctly
- [ ] Cart functionality works
- [ ] Salla SDK events work

---

### 6.6 Common Mistakes to Avoid

**1. Removing Salla Classes:**
```html
<!-- ‚ùå Wrong: Removing s-product-card -->
<div class="tharaa-product-only">
  <!-- Will break Salla functionality -->
</div>

<!-- ‚úÖ Correct: Keep Salla classes + add custom -->
<div class="s-product-card tharaa-product">
  <!-- Works with Salla + has custom styling -->
</div>
```

**2. Not Using Hooks:**
```twig
<!-- ‚ùå Wrong: Missing body:end -->
<body>
  {# content #}
  <script src="{{ 'app.js' | asset }}"></script>
</body>

<!-- ‚úÖ Correct: Include body:end -->
<body>
  {# content #}
  <script src="{{ 'app.js' | asset }}"></script>
  {% hook 'body:end' %}
</body>
```

**3. Breaking Salla SDK:**
```javascript
// ‚ùå Wrong: Preventing default on cart form
document.querySelector('.cart-form').addEventListener('submit', (e) => {
  e.preventDefault(); // Don't do this!
  // custom logic
});

// ‚úÖ Correct: Use Salla SDK events
salla.cart.event.onItemAdded(() => {
  // custom logic
});
```

---

## üìö Additional Resources

**Official Documentation:**
- Salla Docs: https://docs.salla.dev/
- Twilight Engine: https://docs.salla.dev/422053m0
- Web Components: https://docs.salla.dev/422688m0
- Twilight SDK: https://docs.salla.dev/422610m0

**Theme Examples:**
- Theme Raed (Starter): https://github.com/SallaApp/theme-raed

**Community:**
- Salla Blog: https://salla.dev/blog
- Developer Community: https://t.me/SallaDevs

---

## ‚úÖ Final Checklist for Tharaa Theme

### Phase 1: Setup
- [ ] Create theme via Salla Partners Portal
- [ ] Connect GitHub repository
- [ ] Clone Theme Raed as starting point
- [ ] Set up twilight.json with Tharaa branding

### Phase 2: Development
- [ ] Create Design Tokens (colors, typography, spacing)
- [ ] Build Master Layout with all hooks
- [ ] Develop all required pages
- [ ] Create Custom Components (hero-banner, featured-categories)
- [ ] Implement Theme Features
- [ ] Style with Tharaa luxury identity

### Phase 3: Testing
- [ ] Test all Web Components
- [ ] Test responsive design
- [ ] Test RTL support
- [ ] Performance optimization
- [ ] Accessibility audit
- [ ] Cross-browser testing

### Phase 4: Publishing
- [ ] Add screenshots (1366x768)
- [ ] Write theme description
- [ ] Set pricing
- [ ] Submit for Salla review
- [ ] Address review feedback
- [ ] Publish to marketplace

---

**END OF THARAA THEME COMPLETE REFERENCE MANUAL**

---

*This document is a comprehensive reference for building the Tharaa theme on Salla platform. It should be used in conjunction with the official Salla documentation at docs.salla.dev for the most up-to-date information.*
